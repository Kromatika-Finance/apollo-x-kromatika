"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[6294],{2050:(e,t,r)=>{r.d(t,{E:()=>d});var i=r(5842),n=r(87987),s=r(70942),l=r(89600),o=r(59713),a=r(70639),c=r(52983),m=r(28411),u=r(96192);const d=()=>{const{getI18n:e,useActionBtnDisabled:t}=(0,c.useContext)(m.L),{disabled:r}=t(),[d,h]=(0,c.useState)(""),p=(0,c.useCallback)((()=>{u.ee.emit("ORDER_DELETE",{hash:d}),h("")}),[d]),g=(0,c.useCallback)((()=>{h("")}),[]);return(0,c.useEffect)((()=>u.ee.on("ORDER_DELETE_MODAL",(({hash:e})=>{h(e)}))),[]),(0,c.useEffect)((()=>u.ee.on("ORDER_DELETE_MODAL_CLOSE",(()=>{h("")}))),[]),(0,c.useMemo)((()=>d?c.createElement(n.Z,{visible:!0,onMaskClick:g,bg:"moduleBg",tx:"onChainPerp",variant:"confirmModal"},c.createElement(s.Z,{width:"298px",height:"186px",flexDirection:"column",p:"16px",sx:{borderRadius:"8px"}},c.createElement(s.Z,{width:"100%",justifyContent:"space-between",height:"54px",alignItems:"center"},c.createElement(l.Z,{variant:"subtitle1",color:"t.primary"},e("userinfo-orders-delete-order-title",{defaultValue:"Delete Order"})),c.createElement(a.Z,{size:20,color:"t.third",sx:{cursor:"pointer"},onClick:g})),c.createElement(l.Z,{variant:"body2",color:"t.primary",mb:"40px",mt:"16px"},e("userinfo-orders-delete-order-desc",{defaultValue:"Are you sure to delete your order?"})),c.createElement(s.Z,{width:"100%",justifyContent:"space-between",alignItems:"center"},c.createElement(o.Z,{flex:1,height:"40px",mr:"8px",onClick:g,colorStyle:"secondary"},e("userinfo-orders-delete-order-cancel",{defaultValue:"Cancel"})),c.createElement(o.Z,{flex:1,height:"40px",onClick:p,disabled:r},c.createElement(s.Z,{alignItems:"center"},c.createElement(i.b,{style:{width:"20px",height:"20px",marginRight:"8px"}}),c.createElement("span",null,e("userinfo-orders-delete-order-confirm",{defaultValue:"Confirm"}))))))):null),[e,d,g,p,r])}},28411:(e,t,r)=>{r.d(t,{L:()=>i});const i=r(52983).createContext({})},96192:(e,t,r)=>{r.d(t,{ee:()=>i});const i=new(r(42405).v)},26013:(e,t,r)=>{r.d(t,{F:()=>a,K:()=>o});const i={symbol:100,leverage:60,initialCollateral:100,size:100,limitPrice:123.5,triggerPrice:123.5,markPrice:123.5,tpsl:123.5,action:96},n=e=>({width:`${e}px`,flex:`1 0 ${e}px`}),s={display:"flex",justifyContent:"flex-end",alignItems:"center"},l=Object.keys(i).reduce(((e,t)=>e+i[t]),0),o={flexDirection:"column",width:"100%",height:"100%",flex:"1 0",overflowX:"auto",overflowY:"hidden",".orders-header":{width:"100%",height:"32px",display:"flex",flexDirection:"row",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"newLine",boxSizing:"border-box",minWidth:l},".list-container":{minWidth:l},".orders-column":{display:"flex",flexDirection:"row",width:"100%",height:"40px",borderBottom:"1px solid",borderBottomColor:"newLine",alignItems:"center",boxSizing:"border-box"},".cursor-pointer":{cursor:"pointer"},".border-radius-4px":{borderRadius:"4px"},".border-radius-8px":{borderRadius:"8px"},".symbol":{...n(i.symbol)},".symbol-side":{width:"16px",height:"16px",mr:"8px",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center"},".symbol-side-long":{bg:"buy"},".symbol-side-short":{bg:"sell"},".leverage":{...n(i.leverage)},".initialCollateral":{...n(i.initialCollateral),...s},".size":{...n(i.size),...s},".limitPrice":{...n(i.limitPrice),...s},".triggerPrice":{...n(i.triggerPrice),...s},".markPrice":{...n(i.markPrice),...s},".tpsl":{...n(i.tpsl),...s},".action":{...n(i.action),...s}},a={".cursor-pointer":{cursor:"pointer"},".border-radius-4px":{borderRadius:"4px"},".border-radius-8px":{borderRadius:"8px"},".orders-column-mobile":{p:"16px",borderBottom:"1px solid",borderBottomColor:"line",boxSizing:"border-box"},".symbol-side-long":{bg:"buy"},".symbol-side-short":{bg:"sell"}}},88947:(e,t,r)=>{r.d(t,{$:()=>a});var i=r(70942),n=r(89600),s=r(5848),l=r(32495),o=r(52983);const a=({title:e,isLight:t})=>(0,o.useMemo)((()=>o.createElement(i.Z,{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},t?o.createElement(s.Z,{size:60}):o.createElement(l.Z,{size:60}),o.createElement(n.Z,{variant:"body2",color:"t.third"},e))),[e,t])},64828:(e,t,r)=>{r.d(t,{a:()=>w});var i=r(7384),n=r(27872),s=r(87608),l=r.n(s),o=r(85466),a=r.n(o),c=r(45563),m=r.n(c),u=r(14633),d=r.n(u),h=r(52983),p=r(53772),g=r(48221);const f={fontSize:0,textAlign:"center",padding:"8px 6px",color:"t.third"},y=(0,h.memo)((({children:e,...t})=>h.createElement(i.Z,{sx:f,className:"emptyLine",...t},e)));var E=r(1139),x=r(39743),C=r(62433),b=r(49079);const v=()=>{const e=(()=>{const{i18n:e}=(0,b.$)();return e.language||"undefined"!=typeof window&&window.localStorage.i18nextLng||"en"})();return(0,C.yV)(e)};g.t7.displayName="FixedSizeList",(0,h.memo)((({className:e,children:t,...r})=>{const i=l()("list-item-entity",e);return h.createElement(h.Fragment,null,h.createElement("div",{className:i,...r},t),h.createElement(n.xB,{styles:{".list-item-entity":{display:"flex",alignItems:"center",justifyContent:" space-between",flex:1}}}))}));const S=()=>{},[L,P]=[38,40];class k extends h.Component{constructor(e){super(e),this.state={isScrolling:!1,isHover:!1,activeId:0,scrollOffset:0},this.renderItem=({index:e,style:t})=>{const{dataSource:r,itemElement:i,openShotCut:s}=this.props,{activeId:l}=this.state,o=!!s&&l===e;return h.createElement(h.Fragment,null,h.createElement("div",{style:t,className:"list-item-container"},h.createElement(i,{...r[e],activeId:l,active:o})),h.createElement(n.xB,{styles:{".list-item-container":{display:"flex",alignItems:"center",overflowX:"hidden"}}}))},this.renderChild=()=>{const{dataSource:e=[],itemKey:t,itemHeight:r,loading:i=!1,loadWithContent:n=!1,direction:s,listSx:l={},emptyText:o,emptyChildren:a}=this.props,{isScrolling:c}=this.state,m=!i&&0===e.length;this.ListStyle={direction:s,...l};const u=h.createElement(p.ZP,{className:"list-auto-sizer"},(({width:i,height:n})=>h.createElement(g.t7,{style:{direction:s,...l},className:"fixed-size-list",width:i,height:n,itemCount:e.length,itemSize:r,itemData:e,itemKey:t,overscanCount:c?10:1,outerRef:this.outerListRef,innerRef:this.innerListRef,useIsScrolling:!0},this.renderItem)));return i?n?h.createElement(h.Fragment,null,h.createElement(E.Z,{fullScreen:!0,inner:!0}),u):h.createElement(E.Z,{fullScreen:!0,inner:!0}):m?h.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:1}},a||(o?h.createElement(y,null,o):null)):u},this.handleScroll=d()(this.handleScroll.bind(this),200),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.keyScroll=this.keyScroll.bind(this),this.outerListRef=h.createRef(null),this.innerListRef=h.createRef(null),this.maxHeight=e.itemHeight,this.minHeight=.1,this.eventAttached=!1,this.keys={[L]:0,[P]:0}}componentDidMount(){this.props.openShotCut&&(this.eventAttached=!0,document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())}componentDidUpdate(){this.props.openShotCut&&(this.eventAttached||document.addEventListener("keydown",this.handleKeyDown),this.keyScroll())}componentWillUnmount(){this.eventAttached&&(this.eventAttached=!1,document.removeEventListener("keydown",this.handleKeyDown)),this.clearTimer()}shouldComponentUpdate(e,t){return a()(e.dataSource,this.props.dataSource)?e.loading!==this.props.loading||e.itemHeight!==this.props.itemHeight||e.listSx!==this.props.listSx||e.emptyChildren!==this.props.emptyChildren:!(t.isScrolling&&this.state.isScrolling||t.isHover!==this.state.isHover)}handleMouseEnter(){this.setState({isHover:!0})}handleMouseLeave(){this.setState({isHover:!1})}handleScroll(){this.state.isHover&&(this.setState({isScrolling:!0}),this.clearTimer(),this.timer=setTimeout((()=>{this.setState({isScrolling:!1})}),1e3))}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}handleKeyDown(e){const{keyCode:t,metaKey:r,ctrlKey:i}=e,{itemHeight:n,dataSource:s,openShotCut:l,onKeyDownCallback:o,tradeType:a}=this.props,{activeId:c}=this.state;if(l&&(13===t||t===L||t===P)&&(e&&e.preventDefault(),e.stopPropagation(),this.keys={[L]:Math.max(this.minHeight,this.state.scrollOffset-n),[P]:Math.min(this.state.scrollOffset+n,this.maxHeight)},this.keys[t]&&this.scrollItem(this.keys[t]),13===t)){const e=s.filter(((e,t)=>t===c)),t=e.length?e[0]:{};m()(o)&&o({data:t,metaKey:r,ctrlKey:i,tradeType:a})}}keyScroll(){this.innerListRef.current&&(this.maxHeight=this.innerListRef.current.style.height.replace("px","")||this.props.itemHeight),this.outerListRef.current&&this.outerListRef.current.scrollTo({left:0,top:this.state.scrollOffset,behavior:"auto"})}scrollItem(e){this.setState({activeId:Math.floor(e/this.props.itemHeight),scrollOffset:e})}render(){const{variant:e,sx:t,tx:r,scrollPerf:n=!0}=this.props;return h.createElement(i.Z,{onScroll:n?this.handleScroll:S,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,__css:{position:"relative",display:"flex",flexDirection:"column",flexGrow:1},className:"list-container",variant:e,sx:t,tx:r},this.renderChild())}}const w=(e=>{const t=t=>{const r=(()=>{const e=v();return(0,x.cp)(e)})();return h.createElement(e,{...t,direction:r})};return t.displayName=`WithDirection(${e.displayName||e.name||"Component"})`,t})(k)},1139:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(52983),n=r(63730),s=r(17197);const l={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",textAlign:"center"},o=(0,i.memo)((function({show:e=!0,fullScreen:t=!1,inner:r,children:n,zIndex:o}){if(!e)return n||null;const a=i.createElement(s.Z,{sx:{zIndex:o||"100",...l}});return t?i.createElement(i.Fragment,null,n,i.createElement("div",{style:{position:r?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",background:"radial-gradient(rgba(0, 0, 0, 0.05) 30%, transparent)",zIndex:2e3}},a)):i.createElement(i.Fragment,null,n,a)}));let a;o.show=({fullScreen:e=!1}={})=>{a||(a=document.createElement("div"),document.body.appendChild(a)),n.render(i.createElement(o,{fullScreen:e}),a)},o.hide=()=>{a&&n.render(i.createElement(o,{show:!1}),a)};const c=o},6294:(e,t,r)=>{r.r(t),r.d(t,{default:()=>K});var i=r(97458),n=r(70942),s=r(64828),l=r(52983),o=r(88947),a=r(59723),c=r(2951),m=r(89600),u=r(60160),d=r(60714),h=r(28411),p=r(96192);const g=({hash:e})=>{const{useColumnSymbol:t,useChangeSymbol:r}=(0,l.useContext)(h.L),{symbol:i,isLong:s}=t(e),o=r(),a=(0,l.useCallback)((()=>o(i)),[o,i]);return(0,l.useMemo)((()=>l.createElement(n.Z,{className:"symbol cursor-pointer",onClick:a},l.createElement(m.Z,{color:"t.white",variant:"subtitle2",className:"symbol-side "+(s?"symbol-side-long":"symbol-side-short")},s?"L":"S"),l.createElement(m.Z,{color:"t.secondary",variant:"caption",fontWeight:"500"},i),l.createElement(u.Z,{size:16,color:"t.secondary"}))),[a,s,i])},f=({hash:e})=>{const{useColumnLeverage:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"leverage",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},y=({hash:e})=>{const{useColumnCollateral:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"initialCollateral",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},E=({hash:e})=>{const{useColumnSize:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"size",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},x=({hash:e})=>{const{useColumnTriggerPrice:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"triggerPrice",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},C=({hash:e})=>{const{useColumnMarkPrice:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"markPrice",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},b=({hash:e})=>{const{useColumnLimitPrice:t}=(0,l.useContext)(h.L),r=t(e);return(0,l.useMemo)((()=>l.createElement(m.Z,{className:"limitPrice",color:"t.secondary",variant:"caption",fontWeight:"500"},r)),[r])},v=({hash:e})=>{const{useColumnTPSL:t}=(0,l.useContext)(h.L),{takeProfit:r,stopLoss:i}=t(e),s=(0,l.useCallback)((()=>p.ee.emit("MODAL_EDIT_TP_SL_OPEN",{hash:e})),[e]);return(0,l.useMemo)((()=>l.createElement(n.Z,{className:"tpsl",flexDirection:"row"},l.createElement(m.Z,{color:"t.secondary",variant:"caption",fontWeight:"500",mr:"2px"},r," / ",i),l.createElement(d.Z,{className:"cursor-pointer",color:"t.third",size:16,onClick:s}))),[s,i,r])},S=({hash:e})=>{const{getI18n:t}=(0,l.useContext)(h.L),r=(0,l.useCallback)((()=>p.ee.emit("ORDER_DELETE_MODAL",{hash:e})),[e]);return(0,l.useMemo)((()=>l.createElement("div",{className:"action"},l.createElement(m.Z,{className:"cursor-pointer",variant:"caption",fontWeight:"500",color:"t.link",onClick:r},t("userinfo-orders-delete-order",{defaultValue:"Delete"})))),[t,r])},L=({hash:e})=>(0,l.useMemo)((()=>l.createElement("div",{className:"orders-column","data-column-hash":e},l.createElement(g,{hash:e}),l.createElement(f,{hash:e}),l.createElement(y,{hash:e}),l.createElement(E,{hash:e}),l.createElement(b,{hash:e}),l.createElement(x,{hash:e}),l.createElement(C,{hash:e}),l.createElement(v,{hash:e}),l.createElement(S,{hash:e}))),[e]);var P=r(27245),k=r(49079),w=r(36988),D=r(8512);const M=({tip:e,children:t})=>(0,l.useMemo)((()=>e?l.createElement(P.Z,{tip:l.createElement(m.Z,{variant:"caption",fontWeight:"400",color:"t.white",sx:{whiteSpace:"pre-line"}},e),delay:500,bg:"bg4",placement:"top-start",trigger:"hover",arrow:!0,scroll:!1,resize:!1,enablePortal:!0},t):l.createElement(l.Fragment,null,t)),[t,e]),I=()=>{const e=(()=>{const{getI18n:e}=(0,l.useContext)(h.L),{t}=(0,k.$)("dex-on-chain-perp");return(0,l.useMemo)((()=>[{key:"symbol",className:"symbol",title:e("userinfo-orders-column-symbol",{defaultValue:"Symbol"})},{key:"leverage",className:"leverage",title:e("userinfo-orders-column-leverage",{defaultValue:"Leverage"}),tip:e("userinfo-column-leverage-tip",{defaultValue:"Leverage will follow the actual transaction, which may be slightly different from the leverage set when opening the position."})},{key:"initialCollateral",className:"initialCollateral",title:e("userinfo-orders-column-principal",{defaultValue:"Principal"})},{key:"size",className:"size",title:e("userinfo-column-size",{defaultValue:"Size ({{symbol}})",symbol:D.e.USD})},{key:"limitPrice",className:"limitPrice",title:e("userinfo-orders-column-limitPrice",{defaultValue:"Limit Price"})},{key:"triggerPrice",className:"triggerPrice",title:e("userinfo-orders-column-triggerPrice",{defaultValue:"Trigger Price"}),tip:l.createElement(w.c,{t,i18nKey:"userinfo-column-triggerPrice-tip2",components:{br:l.createElement("br",null)},defaults:"In order to protect the price from being manipulated, the limit order will be triggered when Limit price * ( 1 +/- Spread), and the transaction will be executed at the Limit price. <br/> <br/> Long Trigger Price = Limit Price * (1-Spread%) <br/> Short Trigger Price = Limit Price * (1+Spread%)",shouldUnescape:!0})},{key:"markPrice",className:"markPrice",title:e("userinfo-orders-column-markPrice",{defaultValue:"Mark Price"})},{key:"tpsl",className:"tpsl",title:e("userinfo-orders-column-tpsl",{defaultValue:"TP/SL"})},{key:"action",className:"action",title:e("userinfo-orders-column-action",{defaultValue:"Action"})}]),[e,t])})();return(0,l.useMemo)((()=>l.createElement("div",{className:"orders-header"},e.map((e=>l.createElement("div",{key:e.key,className:`${e.className}`},l.createElement(M,{tip:e.tip},l.createElement(m.Z,{display:"flex",alignItems:"center",color:"t.third",variant:"caption",fontWeight:"400",className:e.tip?"cursor-pointer":"cursor-default"},e.title))))))),[e])};var N=r(2050),T=r(26013);const Z=({hash:e})=>(0,l.useMemo)((()=>l.createElement(L,{hash:e})),[e]),O=(e,t)=>t[e].hash,R=()=>{const{useOrders:e,useContractDeleteOrder:t,useOrdersInitialed:r,getI18n:i,useTheme:a}=(0,l.useContext)(h.L),{isLight:c}=a(),m=r(),u=t(),d=e();return(0,l.useEffect)((()=>p.ee.on("ORDER_DELETE",(async e=>{await u(e.hash),p.ee.emit("ORDER_DELETE_MODAL_CLOSE",void 0)}))),[u]),(0,l.useMemo)((()=>l.createElement(n.Z,{className:"orders-container",sx:T.K},l.createElement(I,null),l.createElement(s.a,{dataSource:d.map((e=>({hash:e}))),loading:!m,loadWithContent:!0,itemElement:Z,itemKey:O,itemHeight:40,emptyChildren:l.createElement(o.$,{isLight:c,title:i("userinfo-orders-no-data",{defaultValue:"No Orders Data"})})}))),[d,m,i,c])},z=e=>(0,l.useMemo)((()=>l.createElement(h.L.Provider,{value:{getI18n:e.getI18n,useTheme:e.useTheme,useMarkPrice:e.useMarkPrice,useChangeSymbol:e.useChangeSymbol,useOrderTPSL:e.useOrderTPSL,useOrders:e.useOrders,useContractDeleteOrder:e.useContractDeleteOrder,useOrdersInitialed:e.useOrdersInitialed,useColumnLeverage:e.useColumnLeverage,useColumnCollateral:e.useColumnCollateral,useColumnSymbol:e.useColumnSymbol,useColumnMarkPrice:e.useColumnMarkPrice,useColumnTPSL:e.useColumnTPSL,useColumnLimitPrice:e.useColumnLimitPrice,useColumnTriggerPrice:e.useColumnTriggerPrice,useColumnSize:e.useColumnSize,useActionBtnDisabled:e.useActionBtnDisabled}},l.createElement(R,null),l.createElement(N.E,null),l.createElement(a.l.Provider,{value:{getI18n:e.getI18n,useTPSL:e.useOrderTPSL,useMarkPrice:e.useMarkPrice,useActionBtnDisabled:e.useActionBtnDisabled,ee:p.ee,useColumnSymbol:e.useColumnSymbol}},l.createElement(c.y,null)))),[e]);var _=r(87718),A=r(90974),H=r(56425),V=r(38097);const K=()=>{(0,V.Jo)();const{getI18n:e}=(0,A.V6)();return(0,l.useMemo)((()=>(0,i.jsx)(z,{getI18n:e,useTheme:H.F,useMarkPrice:V.CE,useChangeSymbol:V.d0,useOrders:V.yi,useOrderTPSL:V.ls,useContractDeleteOrder:V.Gc,useOrdersInitialed:V.uY,useColumnSymbol:V.iA,useColumnLeverage:V.ch,useColumnCollateral:V.SD,useColumnLimitPrice:V.uT,useColumnTriggerPrice:V.Ub,useColumnMarkPrice:V.PH,useColumnSize:V.v_,useColumnTPSL:V.a1,useActionBtnDisabled:_.a9})),[e])}}}]);