"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[9204],{8512:(e,t,s)=>{s.d(t,{e:()=>o});const o={USD:"USD"}},49204:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var o=s(97458),a=s(70942),l=s(1139),n=s(52983),r=s(17394),i=s(88947),u=s(89600),c=s(69212),m=s(70301),h=s(11275),y=s(34686);const d=({hash:e})=>{const{useColumnTime:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"time",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},C=({hash:e})=>{const{useColumnSymbol:t}=(0,n.useContext)(h.T),{symbol:s,symbolName:o}=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"symbol",color:"t.secondary",variant:"caption",fontWeight:"500"},o||s)),[s,o])},g=({hash:e})=>{const{useColumnSide:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"side",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},f=({hash:e})=>{const{useColumnLeverage:t,useColumnSymbol:s,staticHost:o,useColumnPNL:a}=(0,n.useContext)(h.T),l=t(e),{symbolType:r}=s(e),{isPNLNegative:i,isPNLPositive:c}=a(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"leverage",color:"t.secondary",variant:"caption",fontWeight:"500",display:"flex",alignItems:"center",sx:{gap:"2px"}},l,n.createElement(m.b,{symbolType:r,staticHost:o,isPNLNegative:i,isPNLPositive:c}))),[i,c,l,o,r])},p=({hash:e})=>{const{useColumnType:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"type",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},N=({hash:e})=>{const{useColumnSize:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"size",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},v=({hash:e})=>{const{useColumnPrice:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"price",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},E=({hash:e})=>{const{useColumnFee:t}=(0,n.useContext)(h.T),s=t(e);return(0,n.useMemo)((()=>n.createElement(u.Z,{className:"fee",color:"t.secondary",variant:"caption",fontWeight:"500"},s)),[s])},M=({hash:e})=>{const{useColumnPNL:t}=(0,n.useContext)(h.T),{PNL:s,ROI:o,isPNLNegative:l,isROINegative:r}=t(e);return(0,n.useMemo)((()=>n.createElement(a.Z,{className:"pnl",flexDirection:"row"},n.createElement(u.Z,{color:void 0===l?"t.secondary":l?"t.sell":"t.buy",variant:"caption",fontWeight:"500"},s),n.createElement(u.Z,{color:void 0===r?"t.secondary":r?"t.sell":"t.buy",variant:"caption",fontWeight:"500"},"Â (",o,")"))),[s,o,l,r])},b=({hash:e})=>{const t=(0,n.useCallback)((()=>y.ee.emit("MODAL_HISTORY_DETAIL_OPEN",{hash:e})),[e]);return(0,n.useMemo)((()=>n.createElement(a.Z,{className:"detail"},n.createElement(c.Z,{color:"t.secondary",cursor:"pointer",size:16,onClick:t}))),[t])},T=({hash:e})=>(0,n.useMemo)((()=>n.createElement("div",{className:"history-column","data-column-hash":e},n.createElement(d,{hash:e}),n.createElement(C,{hash:e}),n.createElement(g,{hash:e}),n.createElement(f,{hash:e}),n.createElement(p,{hash:e}),n.createElement(N,{hash:e}),n.createElement(v,{hash:e}),n.createElement(E,{hash:e}),n.createElement(M,{hash:e}),n.createElement(b,{hash:e}))),[e]);var L=s(27245),H=s(8512);const k=({tip:e,children:t})=>(0,n.useMemo)((()=>e?n.createElement(L.Z,{tip:n.createElement(u.Z,{variant:"caption",fontWeight:"400",color:"t.white",sx:{whiteSpace:"pre-line"}},e),delay:500,bg:"bg4",placement:"top-start",trigger:"hover",arrow:!0,scroll:!1,resize:!1,enablePortal:!0},t):n.createElement(n.Fragment,null,t)),[t,e]),P=()=>{const e=(()=>{const{getI18n:e}=(0,n.useContext)(h.T);return(0,n.useMemo)((()=>[{key:"time",className:"time",title:e("userinfo-history-column-time",{defaultValue:"Time"})},{key:"symbol",className:"symbol",title:e("userinfo-history-column-symbol",{defaultValue:"Symbol"})},{key:"side",className:"side",title:e("userinfo-history-column-side",{defaultValue:"Side"})},{key:"leverage",className:"leverage",title:e("userinfo-history-column-leverage",{defaultValue:"Leverage"}),tip:e("userinfo-column-leverage-tip",{defaultValue:"Leverage will follow the actual transaction, which may be slightly different from the leverage set when opening the position."})},{key:"type",className:"type",title:e("userinfo-history-column-type",{defaultValue:"Type"})},{key:"size",className:"size",title:e("userinfo-column-size",{defaultValue:"Size ({{symbol}})",symbol:H.e.USD})},{key:"price",className:"price",title:e("userinfo-history-column-price",{defaultValue:"Price"})},{key:"fee",className:"fee",title:e("userinfo-history-column-fee",{defaultValue:"Fee"})},{key:"pnl",className:"pnl",title:e("userinfo-history-column-PNL-ROI",{defaultValue:"PNL (ROI%)"})},{key:"detail",className:"detail",title:""}]),[e])})();return(0,n.useMemo)((()=>n.createElement("div",{className:"history-header"},e.map((e=>n.createElement("div",{key:e.key,className:`${e.className}`},n.createElement(k,{tip:e.tip},n.createElement(u.Z,{display:"flex",alignItems:"center",color:"t.third",variant:"caption",fontWeight:"400",className:e.tip?"cursor-pointer":"cursor-default"},e.title))))))),[e])};var S=s(74923),x=s(46714),I=s(24946);const Z=()=>{const{useHistory:e,useHistoryInitialed:t,getI18n:s,useHistoryLoadMore:o,useTheme:u}=(0,n.useContext)(h.T),{isLight:c}=u(),m=(0,n.useRef)(null),y=(0,r.Z)(m,{root:null,rootMargin:"20px",threshold:1}),d=t(),C=e(),{loadMoreLoading:g,hasMore:f,loadMore:p}=o(),N=(0,n.useMemo)((()=>!!y?.isIntersecting),[y?.isIntersecting]);return(0,n.useEffect)((()=>{f&&!g&&N&&p?.()}),[f,N,p,g]),(0,n.useMemo)((()=>n.createElement(a.Z,{className:"history-container",sx:I.r},n.createElement(P,null),n.createElement("div",{className:"history-body"},C.length?C.map((e=>n.createElement(T,{key:e,hash:e}))):d?n.createElement(i.$,{isLight:c,title:s("userinfo-history-no-data",{defaultValue:"No History Data"})}):null,n.createElement("div",{ref:m}),g&&n.createElement(l.Z,{fullScreen:!0,inner:!0})))),[d,C,s,g,c])},V=e=>(0,n.useMemo)((()=>n.createElement(h.T.Provider,{value:{staticHost:e.staticHost,getI18n:e.getI18n,useTheme:e.useTheme,useHistoryLoadMore:e.useHistoryLoadMore,useHistory:e.useHistory,useHistoryInitialed:e.useHistoryInitialed,useColumnFee:e.useColumnFee,useColumnMobile:e.useColumnMobile,useColumnLeverage:e.useColumnLeverage,useColumnPNL:e.useColumnPNL,useColumnPrice:e.useColumnPrice,useColumnSymbol:e.useColumnSymbol,useColumnTime:e.useColumnTime,useColumnType:e.useColumnType,useColumnSide:e.useColumnSide,useColumnSize:e.useColumnSize,useHistoryDetail:e.useHistoryDetail}},n.createElement(Z,null),n.createElement(S.C.Provider,{value:{staticHost:e.staticHost,getI18n:e.getI18n,useHistoryDetail:e.useHistoryDetail,ee:y.ee}},n.createElement(x.F,null)))),[e]);var z=s(88502),D=s(90974),W=s(56425),w=s(95348);const _=()=>{const{loadMoreLoading:e,hasMore:t,loadMore:s}=(0,w.xK)(),{getI18n:a,i18n:{language:l}}=(0,D.V6)(),r=(0,n.useCallback)((()=>({loadMore:s,hasMore:t,loadMoreLoading:e})),[t,s,e]);return(0,n.useMemo)((()=>(0,o.jsx)(V,{locale:l,siteHost:z.brokerConfig.staticBaseUrl,staticHost:z.brokerConfig.apxStaticBaseUrl,getI18n:a,useTheme:W.F,useHistory:w.k6,useHistoryLoadMore:r,useHistoryInitialed:w.zV,useColumnTime:w.a6,useColumnSymbol:w.iA,useColumnLeverage:w.ch,useColumnFee:w.b2,useColumnType:w.r2,useColumnPrice:w.yT,useColumnPNL:w.RM,useColumnMobile:w.Xi,useColumnSide:w.uq,useColumnSize:w.v_,useHistoryDetail:w.uN,enableShare:!0})),[a,r])}}}]);