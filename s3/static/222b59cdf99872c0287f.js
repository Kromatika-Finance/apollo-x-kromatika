"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[9257],{82712:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(85920);i.xu.displayName="Box";const a=i.xu},40280:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(5163),a=n(2784),o=n(82712),r={large:{px:"md",py:"ls",fontSize:"md",lineHeight:"24px",minWidth:"80px"},normal:{px:"sm",py:"s",fontSize:"sm",lineHeight:"20px",minWidth:"60px"},small:{px:"ls",py:"xxs",fontSize:"sm",lineHeight:"20px",minWidth:"52px"},tiny:{px:"xs",py:"minor",fontSize:"xs",lineHeight:"16px",minWidth:"40px"},dwarf:{px:"ls",py:"tiny",fontSize:"sm",lineHeight:"20px",minWidth:"123px"},giant:{px:"md",py:"xs",fontSize:"md",lineHeight:"24px",minWidth:"100%"}},s={xl:r.large,l:r.normal,m:r.small,s:r.tiny,xs:{px:8,py:4,fontSize:"12px",lineHeight:"12px",minHeight:"auto"}};const l=(0,i.__assign)((0,i.__assign)({},r),s);var c=function(e,t){return"primary"===e?"primary.default":e+"."+(t||("outline"===e?"default":"primary"))},d=(0,a.forwardRef)((function(e,t){var n=e.variant,r=void 0===n?"default":n,s=e.colorStyle,d=e.sz,u=void 0===d?"small":d,p=e.inactive,m=e.className,h=e.onClick,x=function(e,t,n){var i=[];return e&&i.push(e),t&&i.push("inactive"),i.join(" ").trim()}(m,!!p);return a.createElement(o.Z,(0,i.__assign)({ref:t,as:"button",tx:"buttons","data-bn-type":"button"},e,{variant:c(r,s),className:x,onClick:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p?null:h&&h.apply(void 0,e)},__css:(0,i.__assign)({appearance:"none",userSelect:"none",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",fontSize:"inherit",fontFamily:"inherit",fontWeight:"medium",textAlign:"center",textDecoration:"none",outline:"none"},l[u]||{})}))}));d.displayName="Button";const u=d},3185:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(5163),a=n(2784),o=n(98569);const r=function(e){return a.createElement(o.Z,(0,i.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M12 10.586l5.95-5.95a1 1 0 111.414 1.414L13.414 12l5.95 5.95a1 1 0 01-1.414 1.414L12 13.414l-5.95 5.95a1 1 0 01-1.414-1.414l5.95-5.95-5.95-5.95A1 1 0 016.05 4.636l5.95 5.95z"}))}},32027:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(5163),a=n(2784),o=n(98569);const r=function(e){return a.createElement(o.Z,(0,i.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm-1.25-5.5V18h2.5v-2.5h-2.5zm0-9.5v7h2.5V6h-2.5z",fill:"currentColor"}))}},19076:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(5163),a=n(2784),o=n(92036),r=n(62143),s=n(87938),l=n(32027),c=n(71927),d=n(23377),u=n(77711),p=function(e){var t=e.isShow,n=e.variant,r=e.getValid,s=e.customIcon,u={info:l.Z,error:c.Z,warning:l.Z,success:d.Z}[n],p=s&&r(s)?a.cloneElement(s,(0,i.__assign)({size:20},s.props),[]):a.createElement(u,{size:20});return t?a.createElement(o.Z,{sx:{width:"24px",height:"24px",mr:"xs",justifyContent:"center",alignItems:"center",flexShrink:0}},p):null},m=function(e){var t=e.isShow,n=e.onClose;return t?a.createElement(o.Z,{sx:{width:"24px",height:"24px",justifyContent:"center",alignItems:"center",color:"t.disabled",marginLeft:"auto"}},a.createElement(u.Z,{size:18,onClick:n,cursor:"pointer"})):null},h=(0,a.forwardRef)((function(e,t){var n=e.children,s=e.icon,l=e.variant,c=void 0===l?"warning":l,d=e.closable,u=void 0!==d&&d,h=e.showIcon,x=void 0===h||h,f=e.onClose,v=e.title,g=e.insideCenter,b=void 0!==g&&g,w=e.__css,y=(0,i.__rest)(e,["children","icon","variant","closable","showIcon","onClose","title","insideCenter","__css"]);return a.createElement(o.Z,(0,i.__assign)({tx:"alertV2",variant:c,alignItems:"flex-start",ref:t,width:"100%",__css:(0,i.__assign)({p:"ls"},w)},y),a.createElement(o.Z,{justifyContent:b?"center":"",flex:"1",alignItems:"flex-start"},a.createElement(p,{isShow:x,variant:c,getValid:a.isValidElement,customIcon:s}),a.createElement(r.Z,{__css:{wordBreak:"break-word",flexShrink:1,height:"auto",lineHeight:"24px",width:b?"auto":"100%",color:"alertV2."+c+"FontColor"}},v&&a.createElement(r.Z,{as:"p",__css:{fontWeight:"medium"}},v),n)),a.createElement(m,{isShow:u,onClose:f}))})),x=(0,a.forwardRef)((function(e,t){var n=e.enablePortal,o=e.container,r=e.topOfPage,l=e.__css,c=(0,i.__rest)(e,["enablePortal","container","topOfPage","__css"]);return r||n||o?a.createElement(s.ZP,{container:o},a.createElement(h,(0,i.__assign)({__css:r?(0,i.__assign)({position:"fixed",top:0,left:0,zIndex:"alert",borderRadius:0},l):{}},c,{ref:t}))):a.createElement(h,(0,i.__assign)({},c))}));x.displayName="AlertV2";const f=x},47535:(e,t,n)=>{n.d(t,{C:()=>p,Z:()=>m});var i=n(52322),a=n(33322),o=n(48658),r=n(45362),s=n(66306),l=n(33470),c=n(31843),d=n(65866);const u={className:"amount-input-container",sx:{height:"48px",width:"100%",bg:"bg3",mb:"16px","&.bn-input-status-error":{border:"none"},".bn-input-helper-text":{color:"errors",fontSize:"14px"}}};var p;!function(e){e[e.Deposit=1]="Deposit",e[e.Withdraw=2]="Withdraw"}(p||(p={}));const m=({value:e,onChange:t,available:n,maxWithdraw:m,asset:h,type:x,precision:f=8,getI18n:v})=>{var g;const b=(0,c.w)({oldValue:e,precision:f}),w=Number(-1===m?n:Math.min(m,Number(n))),y=Number(e)>w,j=(null===(g=m.toString().split(".")[1])||void 0===g?void 0:g.length)||0;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",Object.assign({className:"amount-label"},{children:[(0,i.jsx)(a.Z,Object.assign({width:"auto"},{children:v("Amount")}),void 0),(0,i.jsxs)(o.Z,Object.assign({variant:"body2",color:"t.third"},{children:[v("Available"),(0,i.jsxs)(o.Z,Object.assign({ml:"4px",as:"span",variant:"subtitle2",color:"t.primary"},{children:[n," ",h]}),void 0)]}),void 0)]}),void 0),(0,i.jsx)(s.Z,{value:e,onChange:e=>t(b(e.currentTarget.value)),boxProps:u,variant:"outlineLarge",className:"amount-input",labelFixed:!0,error:y,suffix:(0,i.jsx)(r.Z,Object.assign({variant:"quiet",onClick:()=>{t((0,l.GW)(w,f).toString())}},{children:v("MAX")}),void 0),errorText:x===p.Withdraw?v("wallet-withdraw-amount-error",{defaultValue:"Please enter an amount less than the max withdrawal amount."}):v("wallet-deposit-amount-error",{defaultValue:"Please enter an amount less than the max deposit amount."})},void 0),-1!==m&&(0,i.jsx)("div",Object.assign({className:"amount-info"},{children:v("wallet-remaining-withdraw-info",{defaultValue:"Daily withdrawal amount remaining: {{maxWithdraw}} USD",maxWithdraw:(0,d.uf)(m,j>8?8:j,3)})}),void 0)]},void 0)}},76644:(e,t,n)=>{n.d(t,{m:()=>r});var i=n(52322),a=n(88767);const o=new a.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),r=({children:e})=>(0,i.jsx)(a.QueryClientProvider,Object.assign({client:o},{children:e}),void 0)},69257:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var i=n(52322),a=n(2784),o=n(87612),r=n(22944),s=n(19076),l=n(54073),c=n.n(l),d=n(42902),u=n(3185),p=n(86828),m=n(21209),h=n(48658),x=n(33411),f=n(38896),v=n(88795),g=n(22292),b=n(86529),w=n(76644),y=n(84977),j=n(56218),_=n(47535),C=n(56929),O=n(21587),S=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))};const Z=({visible:e,onClose:t,defaultCoin:n,getI18n:l,locale:w,hitRisk:Z=!1,sx:k={},dialogSx:E={},t:N,disabled:I,onTransactionStart:V=(()=>null)})=>{var z;const[W]=(0,x.WS)(),T=(0,a.useRef)(n||b.J$),[D,M]=(0,a.useState)("0"),$=(()=>{const[,e]=a.useState({});return a.useCallback((()=>e({})),[])})(),A=(0,j.r9)(),F=(0,j.fF)(),P=(0,f._n)(),{approveButton:R,allowance:B,needApprove:H}=(0,O.j)({getI18n:l,coin:T.current,visible:e}),{data:L,refetch:Y}=(0,C.i)(F&&P,T.current),{data:U,refetch:J}=(0,C.I)(F&&P),G=(null===(z=null==U?void 0:U.data)||void 0===z?void 0:z.reduce(((e,t)=>(e[t.asset]=Number(t.walletBalance),e)),{}))||{},q=(0,a.useCallback)((({coin:e,amount:n})=>S(void 0,void 0,void 0,(function*(){if(W){V({coin:e,amount:n});try{const i=yield W.getWalletBalance(T.current);if(M(i),Number(i)<Number(n))return void(0,r.i)({message:l("wallet-deposit-amount-error",{defaultValue:"Please enter an amount less than the max deposit amount."}),okText:l("dex-dialog-ok","Ok"),cancelText:""});W.deposit(e,n),t()}finally{}}}))),[W,l,t,V]),Q=(0,a.useMemo)((()=>c()((()=>S(void 0,void 0,void 0,(function*(){if(!W)return;const e=yield W.getWalletBalance(T.current);M(e)}))),500)),[T,W]),K=(0,a.useCallback)((e=>{T.current=e,e?(Q(),$()):M("0")}),[Q,$]);(0,a.useEffect)((()=>{P&&e&&(Q(),F&&(Y(),J()))}),[e,P,F,Q,Y,J]),(0,a.useEffect)((()=>{T.current=n,e&&Q()}),[n,e]);const X=(0,a.useMemo)((()=>(0,i.jsx)(i.Fragment,{children:Z&&(0,i.jsxs)(s.Z,Object.assign({variant:"warning",ml:"-24px",width:"calc(100% + 48px)"},{children:[l("deposit-risk-hint",{defaultValue:"The current address might be abnormal or have security risk issues,  \n              please contact us if you found any suspicious related to your funds."}),(0,i.jsx)(p.Z,Object.assign({href:`https://apollox.zendesk.com/hc/${(0,d.sU)(w)}/requests/new`,color:"t.yellow",display:"block",target:"_blank"},{children:l("contact-us",{defaultValue:"Contact Us >"})}),void 0)]}),void 0)},void 0)),[Z,l,w]),ee=(0,a.useMemo)((()=>A?[(0,i.jsx)(y.Y,{label:l("dex-deposit-to","Deposit to"),getI18n:l},"tradeType")]:[]),[l,A]);return(0,i.jsxs)(m.Z,Object.assign({sx:Object.assign(Object.assign({},v.i),E),visible:e},{children:[(0,i.jsxs)(h.Z,Object.assign({variant:"headline6",className:"title"},{children:[l("Deposit",{defaultValue:"Deposit"}),(0,i.jsx)(u.Z,{className:"close",onClick:t},void 0)]}),void 0),(0,i.jsx)(g.Z,{top:X,suffixFields:ee,available:D,defaultCoin:n,type:_.C.Deposit,onConfirm:q,onChangeCoin:K,getI18n:l,sx:k,residualDeposit:L,bottom:L&&L>=0?(0,i.jsx)(h.Z,Object.assign({variant:"body2",color:"t.secondary",mt:"16px"},{children:(0,i.jsx)(o.c,{t:N,i18nKey:"deposit-residual-hint",defaults:"You can have a maximum of {{maxDeposit}} {{coin}} in your account as margin asset.",values:{maxDeposit:L+G[T.current],coin:T.current}},void 0)}),void 0):null,disabled:I||H&&0===Number(B),confirmLabel:(null==W?void 0:W.supportTreasuryV2)?l("Deposit","Deposit"):void 0,prefixButtons:H&&0===Number(B)?[R]:[]},void 0)]}),void 0)},k=e=>{var{tradeType:t=j.v3.Futures,isSupportSpot:n=!0,sourceCode:a}=e,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}(e,["tradeType","isSupportSpot","sourceCode"]);return(0,i.jsx)(w.m,{children:(0,i.jsx)(j.B9,Object.assign({tradeType:t,isSupportSpot:n,sourceCode:a},{children:(0,i.jsx)(Z,Object.assign({},o),void 0)}),void 0)},void 0)}},21587:(e,t,n)=>{n.d(t,{j:()=>O});var i=n(52322),a=n(5163),o=n(2784),r=n(40280),s=n(20573),l=n(82712);const c=function(e){var t=e.children;return o.createElement(l.Z,{as:"span",__css:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"}},t)};var d=(0,o.forwardRef)((function(e,t){e.variant;var n=e.itemsColor,i=void 0===n?"primary":n,r=e.label,s=(0,a.__rest)(e,["variant","itemsColor","label"]),d=Array(4).fill(1).map((function(e,t){return"-"+t/10+"s"})).reverse();return o.createElement(l.Z,(0,a.__assign)({ref:t},s,{__css:{display:"flex",width:"30px",height:"30px",alignItems:"center",justifyContent:"space-between"}}),r&&o.createElement(c,null,r),d.map((function(e,t){return o.createElement(p,{key:t,delay:e,color:i})})))})),u=(0,s.F4)(h||(h=(0,a.__makeTemplateObject)(["\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1.0);\n  }\n"],["\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n  }\n  20% {\n    transform: scaleY(1.0);\n  }\n"]))),p=function(e){var t=e.delay,n=e.color;return o.createElement(l.Z,{__css:{backgroundColor:n,height:"100%",width:"3px",animation:u+" 1.2s infinite ease-in-out",animationDelay:t}})};d.displayName="Spinner";const m=d;var h,x={xl:{width:"18px",height:"48px",mr:"5px"},l:{width:"18px",height:"24px",mr:"5px"},m:{width:"18px",height:"24px",mr:"5px"},xs:{width:"18px",height:"12px",mr:"5px"}},f={color:"t.third",bg:"muted",borderColor:"t.third",":hover:not(:disabled):not(:active)":{bg:"muted",backgroundImage:"none"}},v=(0,o.forwardRef)((function(e,t){var n=e.loading,i=e.children,s=e.sz,c=void 0===s?"m":s,d=e.sx,u=void 0===d?{}:d,p=e.spinnerProps,h=void 0===p?{}:p,v=(0,a.__rest)(e,["loading","children","sz","sx","spinnerProps"]),g=x[c]||{},b=n?f:{},w=h.sx,y=void 0===w?{}:w,j=(0,a.__rest)(h,["sx"]),_=(0,o.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n?null:v.onClick&&v.onClick.apply(v,e)}),[v.onClick,n]);return o.createElement(r.Z,(0,a.__assign)({ref:t,sx:(0,a.__assign)((0,a.__assign)({},b),u),disabled:n,sz:c},v,{onClick:_}),n&&o.createElement(m,(0,a.__assign)({itemsColor:"t.third",sx:(0,a.__assign)((0,a.__assign)({},g),y)},j)),o.createElement(l.Z,{display:"inherit"},i))}));v.displayName="LoadingButton";const g=v;var b=n(75548),w=n(28316),y=n(56218),j=n(33411),_=n(23716),C=function(e,t,n,i){return new(n||(n=Promise))((function(a,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}l((i=i.apply(e,t||[])).next())}))};const O=({getI18n:e,coin:t,visible:n})=>{const{allowance:a,status:r,approve:s,needApprove:l}=((e,t)=>{const[n,i]=(0,o.useState)("0"),[a,r]=(0,o.useState)(1),[s,l]=(0,o.useState)(!0),[c,{isReady:d}]=(0,j.WS)(),u=(0,y.fF)(),p=(0,o.useRef)(),m=(0,b.D)((()=>C(void 0,void 0,void 0,(function*(){if(!c||!u||!d)return;if(2===a)return window.clearTimeout(p.current),void(p.current=setTimeout(m,100));const t=yield c.isOrigin(e);if((0,w.unstable_batchedUpdates)((()=>{l(t),!t&&r(2)})),!t)try{const t=yield c.getOrInitAllowance(e);_.log("======== fetch _allowance",t),(0,w.unstable_batchedUpdates)((()=>{i(t),r(3)}))}catch(e){_.error("fetch allowance failed",e),r(3)}}))));(0,o.useEffect)((()=>{e&&d&&t&&(null==c?void 0:c.supportTreasuryV2)&&m()}),[e,d,m,t,null==c?void 0:c.supportTreasuryV2]);const h=(0,b.D)((()=>C(void 0,void 0,void 0,(function*(){if(c&&!s&&(null==c?void 0:c.supportTreasuryV2)){r(2);try{yield c.approveAllowance(e);const t=yield c.getOrInitAllowance(e,!0);_.log("======== refetch _allowance",t),(0,w.unstable_batchedUpdates)((()=>{i(t),r(3)}))}catch(e){_.error("doApprove failed",e),r(3)}}}))));return window.reset=(0,b.D)((()=>null==c?void 0:c.approveAllowance(e,"0"))),(0,o.useMemo)((()=>({status:a,allowance:n,needApprove:u&&!s&&(null==c?void 0:c.supportTreasuryV2),approve:h})),[a,n,u,s,h,null==c?void 0:c.supportTreasuryV2])})(t,n);return(0,o.useMemo)((()=>({approveButton:0===Number(a)&&l&&(0,i.jsx)(g,Object.assign({loading:2===r,onClick:s},{children:e("deposit-approveEnableSymbol",{defaultValue:"Enable {{coin}}",coin:t})}),"approve-button"),allowance:a,needApprove:l})),[a,l,r,s,e,t])}},22292:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(52322),a=n(2784),o=n(62143),r=n(45362),s=n(65866),l=n(37745),c=n(64296),d=n(33411),u=n(92036),p=n(7845);const m={color:"t.primary",justifyContent:"flex-start",alignItems:"center",flex:1,height:"100%",fontSize:"14px",".asset-code":{ml:"4px"},".asset-name":{ml:"4px",color:"t.third"}},h=({logo:e,code:t,name:n})=>(0,i.jsxs)(u.Z,Object.assign({sx:m},{children:[(0,i.jsx)(p.Z,{variant:"avatar",src:e,alt:"",width:16,height:16},void 0),(0,i.jsx)("div",Object.assign({className:"asset-code"},{children:t}),void 0),(0,i.jsx)("div",Object.assign({className:"asset-name"},{children:n}),void 0)]}),void 0);var x=n(86529);const f=({value:e,onChange:t,getI18n:n})=>{const o=(0,d.v8)(),r=(0,a.useCallback)((e=>{const t=o.find((t=>t.code===e));return t?(0,i.jsx)(h,Object.assign({},t),void 0):null}),[o]);return(0,a.useEffect)((function(){o.length&&!o.find((t=>t.code===e))&&t(o.find((e=>e.code===x.J$))?x.J$:o[0].code)}),[e,o,t]),(0,i.jsx)(l.Z,Object.assign({label:n("Coin",{defaultValue:"Coin"}),hideSearch:!0,onChange:e=>{t(e)},size:"lg",value:e,renderValue:r},{children:o.map((e=>(0,i.jsx)(c.W,Object.assign({value:e.code},{children:(0,i.jsx)(h,Object.assign({},e),void 0)}),e.code)))}),void 0)};var v=n(47535);const g={display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1,".footer":{mt:"52px",textAlign:"right"},".confirm":{height:40,width:["100%",164]},".bn-sdd-noResults":{color:"t.secondary"},".amount-label":{justifyContent:"space-between",alignItems:"center",mb:"4px",lineHeight:"32px",display:"flex"},".amount-info":{color:"t.secondary",fontSize:"14px",mt:"32px"}},b={display:"flex",justifyContent:"space-between",gap:"16px",button:{width:"100% !important"}},w=({available:e,maxWithdraw:t=-1,residualDeposit:n=-1,onChangeCoin:l,onConfirm:c,defaultCoin:u=x.J$,bottom:p=null,top:m=null,suffixFields:h=[],type:w,getI18n:y,sx:j={},disabled:_,confirmLabel:C,prefixButtons:O=[]})=>{const[S,Z]=(0,a.useState)(""),[k,E]=(0,a.useState)(u),N=(0,d.W4)(k),I=(0,s.GW)(e,N).toString();let V=Number(I);t>=0?V=Math.min(Number(I),t):n>=0&&(V=Math.min(V,n));const z=_||!t||!Number(e)||!Number(S)||Number(S||0)>V;return(0,i.jsxs)(o.Z,Object.assign({sx:Object.assign(Object.assign({},g),j)},{children:[m,(0,i.jsxs)("div",{children:[h.map(((e,t)=>(0,i.jsx)(o.Z,Object.assign({mt:"24px"},{children:e}),t))),(0,i.jsx)(o.Z,Object.assign({mt:"24px"},{children:(0,i.jsx)(f,{value:k,onChange:e=>{l(e),E(e)},getI18n:y},void 0)}),void 0),(0,i.jsx)(o.Z,Object.assign({mt:"24px"},{children:(0,i.jsx)(v.Z,{maxWithdraw:t,value:S,onChange:Z,available:I,asset:k,type:w,getI18n:y,precision:N},void 0)}),void 0)]},void 0),p,(0,i.jsxs)(o.Z,Object.assign({className:"footer",sx:O.length>0?b:null},{children:[O.length>0&&O,(0,i.jsx)(r.Z,Object.assign({disabled:z,onClick:()=>c({coin:k,amount:S}),className:"confirm"},{children:C||y("Confirm")}),void 0)]}),void 0)]}),void 0)}},84977:(e,t,n)=>{n.d(t,{Y:()=>l});var i=n(52322),a=n(2784),o=n(37745),r=n(64296),s=n(56218);const l=({label:e,getI18n:t,onChangeType:n})=>{const{tradeType:l,setTradeType:c}=(0,s.Gt)(),d=(0,a.useMemo)((()=>[{label:t("dex-trade-type-spot",{defaultValue:"Spot"}),value:`${s.v3.Spot}`},{label:t("dex-trade-type-futures",{defaultValue:"Futures"}),value:`${s.v3.Futures}`}]),[t]),u=(0,a.useCallback)((e=>{const t=d.find((t=>t.value===e));return t&&t.label||""}),[d]),p=(0,a.useCallback)((e=>{c(Number(e)),setTimeout((()=>{n&&n()}))}),[]);return(0,i.jsx)(o.Z,Object.assign({size:"lg",renderValue:u,value:`${l}`,onChange:p,hideSearch:!0,label:e},{children:d.map((({value:e,label:t})=>(0,i.jsx)(r.W,Object.assign({value:`${e}`},{children:t}),`${e}`)))}),void 0)}},88795:(e,t,n)=>{n.d(t,{i:()=>i});const i={padding:"18px 24px 24px",width:["100%",420],height:["100%","auto"],minHeight:"400px",display:"flex",flexDirection:"column",bg:"modalBg",".title":{color:"t.primary",display:"flex",alignItems:"center",justifyContent:"space-between",pb:18,".close":{color:"icons.close",width:24,height:24,cursor:"pointer","&:hover":{color:"t.third"}}}}},31843:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(65866);const a=/^\d+\.?\d*|%$/,o=/^0+(?=\d)/,r=({oldValue:e,maxValue:t,maxLength:n,precision:r})=>s=>!a.test(s)&&""!==s||isNaN(Number(s))?e:(s=s.replace(o,""),(0,i.N3)(s)>r&&(s=s.replace(new RegExp(`^(\\d*\\.\\d{${r}})\\d*`),"$1")),n&&s.split(".")[0].length>n&&(s=e),0===r&&(s=s.replace(".","")),t&&Number(s)>t&&(s=t.toString()),s)},65866:(e,t,n)=>{n.d(t,{GW:()=>d,HV:()=>u,N3:()=>l,uf:()=>c});var i=n(30733),a=n.n(i),o=n(33470);const r=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,s=a()(((e,t)=>new RegExp(`\\d(?=(\\d{${t||3}})+${e>0?"\\.":"$"})`,"g")),((...e)=>e.join(","))),l=e=>{const t=`${e}`.match(r);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},c=(e,t,n=3)=>{e="number"==typeof e?e:+e;const i=s(t,n);return e.toFixed(Math.max(0,~~t)).replace(i,"$&,")},d=(e,t=2,n)=>((e,t,n="round",i=!1)=>{const a=e||0;let o;const r=Math.pow(10,t);let s=(+a+1/Math.pow(10,t+3))*r;if("string"==typeof n){const e=2;s=parseInt(""+s*Math.pow(10,e),10)/Math.pow(10,e),l=n,o=(()=>{if(Math[l])return Math[l];throw new Error("getRoundFunc called with unknown type")})()}else o=n;var l;if("function"!=typeof o)throw new Error("decRound unknown rounding func");return i?c(o(s)/r,t):(o(s)/r).toFixed(t)})(e,t,"floor",n),u=(e,t)=>(0,o.Jp)(e).toFixed(Math.min(8,t),1)}}]);