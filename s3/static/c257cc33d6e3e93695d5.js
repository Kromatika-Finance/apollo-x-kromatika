"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[502],{54502:(e,t,i)=>{i.r(t),i.d(t,{DepthChart:()=>k,default:()=>D});var s=i(52322),n=i(2784),o=i(7688),r=i(1851),a=i(671),c=i(98492),l=i(4673),h=i(20115),u=i(82696),d=i(84183),p=i(5848),m=i(11682),b=i(21367),g=i(39727);const f=({price:e,depth:t,amount:i,total:s})=>({xData:+e,yData:t});const v=({price:e,depth:t})=>({xData:t,yData:+e}),y=({namespace:e,symbol:t,width:i,height:o,forceHorizontalMode:y=!1})=>{const k="light"===(0,c.Fg)()?a.ib:a.Cs,D=(0,c.Vh)()[t],{pricePrecision:C,isDelivery:M}=D||{},{asks:j,bids:w}=function(e,t=!1,i=f){const s=(e=>{var t;const i=(0,g.v9)((e=>e.exchangeInfo.infos))[e];return"BTCUSDT"===e?"1":(null===(t=null==i?void 0:i.levels)||void 0===t?void 0:t.slice(-2)[0])||"0.1"})(e),o=(e=>{const{tickSize:t,equalQtyPrecision:i}=e||{},s=(0,d.p)(Number(t)),{getQuantity:o}=(0,p.s7)(e),{getQuantity:r}=(0,m.s)(e);return(0,n.useCallback)((({quantity:e,price:t,format:n=!1})=>{const a={quantity:e,price:t,format:n};return(0,l.nM)()?r(Object.assign(Object.assign({},a),{func:u.GW,precision:i||2})):o(Object.assign(Object.assign({},a),{func:u.mD,precision:s||2}))}),[i,r,o,s])})((0,h.j2)()),r=(t=(0,l.nM)()||t)?(0,l.RU)():(0,l.BN)(),a=(0,b.H0)(e,r,{level:s,isDelivery:t}),c=(0,b.d)(e,r,{level:s,isDelivery:t});return{asks:(0,n.useMemo)((()=>{let e=0;const t=[];for(let i=a.length-1;i>=0;i--){const s=a[i];e+=Number(o({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[a,o,i]),bids:(0,n.useMemo)((()=>{let e=0;const t=[];for(let i=0,s=c.length;i<s;i++){const s=c[i];e+=Number(o({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[c,o,i])}}(t,M,o>i?v:void 0),x=(0,n.useMemo)((()=>"BTCUSDT"===t?0:C-1),[t,C]);return(0,s.jsx)(r.k.Containers.DepthChart,{namespace:e,symbol:t,theme:k,asks:j,bids:w,width:i,height:o,pricePrecision:C,filterPricePrecision:x,mode:y?r.k.DepthChartMode.Horizontal:o>i?r.k.DepthChartMode.Vertical:r.k.DepthChartMode.Horizontal},void 0)},k=({namespace:e,symbol:t,forceHorizontalMode:i})=>(0,s.jsx)(o.Z,{children:({width:n,height:o})=>(0,s.jsx)(y,{namespace:e,symbol:t,width:n,height:o,forceHorizontalMode:i},void 0)},void 0),D=k}}]);