"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[1922],{92634:(e,t,l)=>{l.d(t,{E:()=>c});var r=l(76933),s=l(89339),a=l(94043),i=l(52983),n=l(56829),o=l(97237);const c=()=>{const{getI18n:e,useActionBtnDisabled:t}=(0,i.useContext)(n.L),{disabled:l}=t(),[c,u]=(0,i.useState)(""),m=(0,i.useCallback)((()=>{o.ee.emit("ORDER_DELETE",{hash:c}),u("")}),[c]),d=(0,i.useCallback)((()=>{u("")}),[]);return(0,i.useEffect)((()=>o.ee.on("ORDER_DELETE_MODAL",(({hash:e})=>{u(e)}))),[]),(0,i.useEffect)((()=>o.ee.on("ORDER_DELETE_MODAL_CLOSE",(()=>{u("")}))),[]),(0,i.useMemo)((()=>c?i.createElement(r.Vq,{open:!0},i.createElement(r.PK,null,i.createElement(r.cZ,{className:"flex flex-col p-4 w-[298px] h-[186px] rounded-[8px]",onPointerDownOutside:d},i.createElement("div",{className:"flex w-full justify-between h-[54px] items-center"},i.createElement("div",{className:"text-subtitle1 text-t-primary"},e("userinfo-orders-delete-order-title",{defaultValue:"Delete Order"})),i.createElement(r.GG,{onClick:d,className:"[&_svg]:w-5 [&_svg]:h-5 [&_svg]:text-[20px]"})),i.createElement("div",{className:"text-body2 text-t-primary mb-[40px] mt-4"},e("userinfo-orders-delete-order-desc",{defaultValue:"Are you sure to delete your order?"})),i.createElement("div",{className:"flex w-full justify-between items-center"},i.createElement(s.z,{className:"flex-1 text-subtitle2 h-10 !mr-2",onClick:d,variant:"secondary"},e("userinfo-orders-delete-order-cancel",{defaultValue:"Cancel"})),i.createElement(s.z,{className:"flex-[1] h-10 text-subtitle2",onClick:m,disabled:l},i.createElement("div",{className:"flex items-center"},i.createElement(a.b,{className:"mr-2",width:"20px",height:"20px",fontSize:"20px"}),i.createElement("span",null,e("userinfo-orders-delete-order-confirm",{defaultValue:"Confirm"})))))))):null),[l,e,c,d,m])}},56829:(e,t,l)=>{l.d(t,{L:()=>r});const r=l(52983).createContext({})},97237:(e,t,l)=>{l.d(t,{ee:()=>r});const r=new(l(13565).v)},72262:(e,t,l)=>{l.d(t,{$:()=>i});var r=l(69982),s=l(28643),a=l(52983);const i=({title:e,isLight:t})=>(0,a.useMemo)((()=>a.createElement("div",{className:"flex flex-col items-center justify-center h-full"},t?a.createElement(r.E,{width:"60px",height:"60px",fontSize:"60px"}):a.createElement(s.e,{width:"60px",height:"60px",fontSize:"60px"}),a.createElement("div",{className:"text-body2 text-t-third"},e))),[e,t])},13565:(e,t,l)=>{l.d(t,{v:()=>r});class r{constructor(){this.cbs={},this.on=(e,t)=>(this.cbs[e]||(this.cbs[e]=[]),this.cbs[e].push(t),()=>this.off(e,t)),this.off=(e,t)=>{this.cbs[e]||(this.cbs[e]=[]),this.cbs[e]=this.cbs[e].filter((e=>e!==t))},this.emit=(e,t)=>{this.cbs[e]||(this.cbs[e]=[]),this.cbs[e].forEach((e=>"function"==typeof e&&e(t)))}}}},1922:(e,t,l)=>{l.r(t),l.d(t,{default:()=>se});var r=l(97458),s=l(52983),a=l(2780),i=l(10574),n=l(21339);const o=s.memo((e=>{const{style:t,children:l}=e;return s.createElement("div",{className:"list-container relative flex flex-col flex-grow-[1]",style:t},l)})),c=e=>{const{style:t,dataSource:l=[],itemElement:r,itemKey:c,itemHeight:u,loading:m=!1,loadWithContent:d=!1,emptyChildren:h}=e,x=!m&&0===l.length,f=(0,s.useCallback)((({index:e,style:t})=>s.createElement("div",{style:t,className:"list-fixed-size-list-container flex items-center overflow-x-hidden"},s.createElement(r,{...l[e]}))),[l.length]);return m&&!d?s.createElement(n.g,{fullScreen:!0,inner:!0}):x?s.createElement(o,{style:t},h||null):(0,s.useMemo)((()=>s.createElement(o,{style:t},m&&d&&s.createElement(n.g,{fullScreen:!0,inner:!0}),s.createElement(a.ZP,{className:"list-auto-sizer"},(({width:e,height:t})=>s.createElement(i.t7,{className:"list-fixed-size-list",width:e,height:t,itemCount:l.length,itemSize:u,itemData:l,itemKey:c,useIsScrolling:!0},f))))),[u,c,d,m,t])};var u=l(72262),m=l(89019),d=l(105),h=l(84593),x=l(30826),f=l(56829),E=l(97237);const p={symbol:100,leverage:60,initialCollateral:100,size:100,limitPrice:123.5,triggerPrice:123.5,markPrice:123.5,tpsl:123.5,action:96},g=Object.keys(p).reduce(((e,t)=>e+p[t]),0),b="flex text-t-secondary items-center text-captionSub",C="justify-end",y=`${b}`,v=`${b}`,P=`${b} ${C}`,$=`${b} ${C}`,L=`${b} ${C}`,S=`${b} ${C}`,k=`${b} ${C}`,N=`${b} ${C}`,w=`${b} ${C}`,D="flex text-t-secondary items-center text-captionSub ",M="justify-end",O={symbol:`${D}`,leverage:`${D}`,initialCollateral:`${D} ${C}`,size:`${D} ${M}`,limitPrice:`${D} ${M}`,triggerPrice:`${D} ${M}`,markPrice:`${D} ${M}`,tpsl:`${D} ${M}`,action:`${D} ${M}`},T=({hash:e})=>{const{useColumnSymbol:t,useChangeSymbol:l}=(0,s.useContext)(f.L),{symbol:r,isLong:a}=t(e),i=l(),n=(0,s.useCallback)((()=>i(r)),[i,r]);return(0,s.useMemo)((()=>s.createElement("div",{className:`symbol ${y} cursor-pointer`,style:{width:`${p.symbol}px`,flex:`1 1 ${p.symbol}px`},onClick:n},s.createElement("div",{className:"text-t-white text-subtitle2 w-4 h-4 rounded flex justify-center items-center mr-2",style:{backgroundColor:a?"var(--colors-t-buy)":"var(--colors-t-sell)"}},a?"L":"S"),s.createElement("div",{className:"text-t-secondary text-caption"},r),s.createElement(h.u,{width:"16px",height:"16px",fontSize:"16px",className:"text-t-secondary"}))),[n,a,r])},_=({hash:e})=>{const{useColumnLeverage:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`leverage ${v}`,style:{width:`${p.leverage}px`,flex:`1 1 ${p.leverage}px`}},l)),[l])},z=({hash:e})=>{const{useColumnCollateral:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`initialCollateral ${P}`,style:{width:`${p.initialCollateral}px`,flex:`1 1 ${p.initialCollateral}px`}},l)),[l])},V=({hash:e})=>{const{useColumnSize:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`size ${$}`,style:{width:`${p.size}px`,flex:`1 1 ${p.size}px`}},l)),[l])},I=({hash:e})=>{const{useColumnTriggerPrice:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`triggerPrice ${S}`,style:{width:`${p.triggerPrice}px`,flex:`1 1 ${p.triggerPrice}px`}},l)),[l])},A=({hash:e})=>{const{useColumnMarkPrice:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`markPrice ${k}`,style:{width:`${p.markPrice}px`,flex:`1 1 ${p.markPrice}px`}},l)),[l])},R=({hash:e})=>{const{useColumnLimitPrice:t}=(0,s.useContext)(f.L),l=t(e);return(0,s.useMemo)((()=>s.createElement("div",{className:`limitPrice ${L}`,style:{width:`${p.limitPrice}px`,flex:`1 1 ${p.limitPrice}px`}},l)),[l])},j=({hash:e})=>{const{useColumnTPSL:t}=(0,s.useContext)(f.L),{takeProfit:l,stopLoss:r}=t(e),a=(0,s.useCallback)((()=>E.ee.emit("MODAL_EDIT_TP_SL_OPEN",{hash:e})),[e]);return(0,s.useMemo)((()=>s.createElement("div",{className:`tpsl ${N} flex-row`,style:{width:`${p.tpsl}px`,flex:`1 1 ${p.tpsl}px`}},s.createElement("div",{className:"text-t-secondary text-captionSub mr-[2px]"},l," / ",r),s.createElement(x.s,{className:"cursor-pointer text-t-third",width:"16px",height:"16px",fontSize:"16px",onClick:a}))),[a,r,l])},B=({hash:e})=>{const{getI18n:t}=(0,s.useContext)(f.L),l=(0,s.useCallback)((()=>E.ee.emit("ORDER_DELETE_MODAL",{hash:e})),[e]);return(0,s.useMemo)((()=>s.createElement("div",{className:`action ${w}`,style:{width:`${p.action}px`,flex:`1 1 ${p.action}px`}},s.createElement("div",{className:"cursor-pointer text-captionSub text-t-link",onClick:l},t("userinfo-orders-delete-order",{defaultValue:"Delete"})))),[t,l])},K=({hash:e})=>(0,s.useMemo)((()=>s.createElement("div",{className:"orders-column flex flex-row w-full h-10 items-center box-border border-b-border-lineStrong border-b border-solid","data-column-hash":e},s.createElement(T,{hash:e}),s.createElement(_,{hash:e}),s.createElement(z,{hash:e}),s.createElement(V,{hash:e}),s.createElement(R,{hash:e}),s.createElement(I,{hash:e}),s.createElement(A,{hash:e}),s.createElement(j,{hash:e}),s.createElement(B,{hash:e}))),[e]);var W=l(32142),G=l(2237),H=l(29543),U=l(44478);const F=({tip:e,children:t})=>(0,s.useMemo)((()=>s.createElement(s.Fragment,null,e?s.createElement(W.e,{tip:e},t):t)),[t,e]),Z=()=>{const e=(()=>{const{getI18n:e}=(0,s.useContext)(f.L),{t}=(0,G.$)("dex-on-chain-perp");return(0,s.useMemo)((()=>[{key:"symbol",className:"symbol",title:e("userinfo-orders-column-symbol",{defaultValue:"Symbol"})},{key:"leverage",className:"leverage",title:e("userinfo-orders-column-leverage",{defaultValue:"Leverage"}),tip:e("userinfo-column-leverage-tip",{defaultValue:"Leverage will follow the actual transaction, which may be slightly different from the leverage set when opening the position."})},{key:"initialCollateral",className:"initialCollateral",title:e("userinfo-orders-column-principal",{defaultValue:"Principal"})},{key:"size",className:"size",title:e("userinfo-column-size",{defaultValue:"Size ({{symbol}})",symbol:U.e.USD})},{key:"limitPrice",className:"limitPrice",title:e("userinfo-orders-column-limitPrice",{defaultValue:"Limit Price"})},{key:"triggerPrice",className:"triggerPrice",title:e("userinfo-orders-column-triggerPrice",{defaultValue:"Trigger Price"}),tip:s.createElement(H.c,{t,i18nKey:"userinfo-column-triggerPrice-tip2",components:{br:s.createElement("br",null)},defaults:"In order to protect the price from being manipulated, the limit order will be triggered when Limit price * ( 1 +/- Spread), and the transaction will be executed at the Limit price. <br/> <br/> Long Trigger Price = Limit Price * (1-Spread%) <br/> Short Trigger Price = Limit Price * (1+Spread%)",shouldUnescape:!0})},{key:"markPrice",className:"markPrice",title:e("userinfo-orders-column-markPrice",{defaultValue:"Mark Price"})},{key:"tpsl",className:"tpsl",title:e("userinfo-orders-column-tpsl",{defaultValue:"TP/SL"})},{key:"action",className:"action",title:e("userinfo-orders-column-action",{defaultValue:"Action"})}]),[e,t])})();return(0,s.useMemo)((()=>s.createElement("div",{className:"orders-header w-full h-8 flex flex-row items-center box-border border-b-border-lineStrong border-b border-solid",style:{minWidth:`${g}px`}},e.map((e=>s.createElement("div",{key:e.key,className:`${e.className} ${O[e.className]}`,style:{width:`${p[e.className]}px`,flex:`1 1 ${p[e.className]}px`}},s.createElement(F,{tip:e.tip},s.createElement("div",{className:"flex item-center text-t-third text-caption",style:{cursor:e.tip?"pointer":"default"}},e.title))))))),[e])};var q=l(92634);const J=({hash:e})=>(0,s.useMemo)((()=>s.createElement(K,{hash:e})),[e]),Y=(e,t)=>t[e].hash,Q=()=>{const{useOrders:e,useContractDeleteOrder:t,useOrdersInitialed:l,getI18n:r,useTheme:a}=(0,s.useContext)(f.L),{isLight:i}=a(),n=l(),o=t(),m=e();return(0,s.useEffect)((()=>E.ee.on("ORDER_DELETE",(e=>{return t=void 0,l=void 0,s=function*(){yield o(e.hash),E.ee.emit("ORDER_DELETE_MODAL_CLOSE",void 0)},new((r=void 0)||(r=Promise))((function(e,a){function i(e){try{o(s.next(e))}catch(e){a(e)}}function n(e){try{o(s.throw(e))}catch(e){a(e)}}function o(t){var l;t.done?e(t.value):(l=t.value,l instanceof r?l:new r((function(e){e(l)}))).then(i,n)}o((s=s.apply(t,l||[])).next())}));var t,l,r,s}))),[o]),(0,s.useMemo)((()=>s.createElement("div",{className:"orders-container flex flex-col w-full h-full flex-[1_0] overflow-x-auto overflow-y-hidden"},s.createElement(Z,null),s.createElement(c,{style:{minWidth:`${g}px`},dataSource:m.map((e=>({hash:e}))),loading:!n,loadWithContent:!0,itemElement:J,itemKey:Y,itemHeight:40,emptyChildren:s.createElement(u.$,{isLight:i,title:r("userinfo-orders-no-data",{defaultValue:"No Orders Data"})})}))),[m,n,i,r])},X=e=>(0,s.useMemo)((()=>s.createElement(f.L.Provider,{value:{getI18n:e.getI18n,useTheme:e.useTheme,useMarkPrice:e.useMarkPrice,useChangeSymbol:e.useChangeSymbol,useOrderTPSL:e.useOrderTPSL,useOrders:e.useOrders,useContractDeleteOrder:e.useContractDeleteOrder,useOrdersInitialed:e.useOrdersInitialed,useColumnLeverage:e.useColumnLeverage,useColumnCollateral:e.useColumnCollateral,useColumnSymbol:e.useColumnSymbol,useColumnMarkPrice:e.useColumnMarkPrice,useColumnTPSL:e.useColumnTPSL,useColumnLimitPrice:e.useColumnLimitPrice,useColumnTriggerPrice:e.useColumnTriggerPrice,useColumnSize:e.useColumnSize,useActionBtnDisabled:e.useActionBtnDisabled,useLeverage:e.useLeverage}},s.createElement(Q,null),s.createElement(q.E,null),s.createElement(m.l.Provider,{value:{getI18n:e.getI18n,useTPSL:e.useOrderTPSL,useMarkPrice:e.useMarkPrice,useActionBtnDisabled:e.useActionBtnDisabled,ee:E.ee,useColumnSymbol:e.useColumnSymbol,useLeverage:e.useLeverage}},s.createElement(d.y,null)))),[e]);var ee=l(98277),te=l(96988),le=l(52590),re=l(74532);const se=()=>{(0,re.Jo)();const{getI18n:e}=(0,te.V6)();return(0,s.useMemo)((()=>(0,r.jsx)(X,{getI18n:e,useTheme:le.F,useMarkPrice:re.CE,useChangeSymbol:re.d0,useOrders:re.yi,useOrderTPSL:re.ls,useContractDeleteOrder:re.Gc,useOrdersInitialed:re.uY,useColumnSymbol:re.iA,useColumnLeverage:re.ch,useColumnCollateral:re.SD,useColumnLimitPrice:re.uT,useColumnTriggerPrice:re.Ub,useColumnMarkPrice:re.PH,useColumnSize:re.v_,useColumnTPSL:re.a1,useActionBtnDisabled:ee.a9})),[e])}}}]);