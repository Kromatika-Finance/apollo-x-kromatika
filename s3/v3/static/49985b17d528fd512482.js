"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[3605],{3605:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(97458),o=n(88349),a=n(52983);const i=e=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",...e},a.createElement("path",{fillRule:"evenodd",d:"M17 4a1 1 0 112 0v1h2a1 1 0 011 1v7a1 1 0 01-1 1h-2v4h2a1 1 0 110 2H3a1 1 0 110-2h2v-4H3a1 1 0 01-1-1V6a1 1 0 011-1h2V4a1 1 0 012 0v1h10V4zm0 14H7v-4h10v4zm.172-11h-5.344l-5 5H4l5-5H4v5h8.172l5-5zM15 12h5V7l-5 5z",clipRule:"evenodd"}));var c=n(89339);const s=e=>a.createElement("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},a.createElement("path",{d:"M12 15a1 1 0 110 2 1 1 0 010-2zm0-8a1 1 0 011 1v5a1 1 0 11-2 0V8a1 1 0 011-1z"}),a.createElement("path",{fillRule:"evenodd",d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zm-2 0a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"}));var l=n(58211),d=n(84090),u=n(84542),m=n(60343),h=n(33075),p=n(59712),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};const f=()=>{const{supportedChains:e,hideChains:t}=(0,h.o6)();return(0,a.useMemo)((()=>t&&0!==t.length?e.filter((e=>!t.find((t=>e.id===t.id)))):e),[t,e])},w=({staticHost:e,onSwitchNetwork:t})=>{const{selectedNetworkId:n}=(0,h.o6)(),r=f(),{connector:i,isConnected:c}=(0,d.mA)();return a.createElement(a.Fragment,null,r.filter((e=>!c||(null==i?void 0:i.chains.some((t=>t.id===e.id))))).map((r=>{var i;const c=r.id===n;return a.createElement(o.Xi,{asChild:!0,key:r.id},a.createElement("button",{type:"button",onClick:()=>v(void 0,void 0,void 0,(function*(){n!==r.id&&t(r.id)})),className:"text-left text-subtitle2 justify-start rounded-none w-full px-4 py-4 relative text-t-primary hover:bg-interactive-interactiveBgHover focus:bg-interactive-interactiveBgActive cursor-pointer font-normal after:absolute after:right-4 after:content-[''] after:w-2 after:h-2 after:rounded-full after:bg-interactive-buy "+(c?"after:block":"after:hidden")},a.createElement("img",{className:"mr-2 w-5- h-5",src:`${e}${null===(i=(0,u.pT)(r.id))||void 0===i?void 0:i.iconUrlPath}`}),(0,u.Tw)(r.id,r.name)))})))},x=({getI18n:e,onSwitchNetwork:t})=>{const n=f();return a.createElement("div",{className:"px-3 py-4"},a.createElement(i,{className:"w-10 h-10 text-t-placeholder mb-1 mx-auto"}),a.createElement("p",{className:"text-caption1 sm:text-body2 text-t-third text-center mb-4"},e("dex-header-network-not-supported",{defaultValue:"Network not supported"})),a.createElement("p",{className:"text-caption1 text-t-third text-center mb-2"},e("dex-header-switch-to",{defaultValue:"Switch to"})),a.createElement("div",{className:"space-y-2"},n.map((e=>a.createElement(c.z,{key:e.id,type:"button",onClick:()=>{t(e.id)},size:"sm",className:"text-subtitle3 sm:text-subtitle2 py-1 sm:py-1.5 h-6 sm:h-8 w-full"},(0,u.Tw)(e.id,e.name))))))},y=({staticHost:e,getI18n:t})=>{var n;const{selectedNetworkId:r,setSelectedNetworkId:i,onSwitchNetwork:y}=(0,h.o6)(),{switchNetworkAsync:b}=(0,d.g0)(),{chain:g}=(0,d.LN)(),{isConnected:k}=(0,d.mA)(),E=f(),C=(0,a.useMemo)((()=>E.find((e=>e.id===r))),[r,E]),N=null===(n=(0,u.pT)(null==C?void 0:C.id))||void 0===n?void 0:n.iconUrlPath,S=(0,a.useMemo)((()=>k&&(!0===(null==g?void 0:g.unsupported)||!E.some((e=>e.id===(null==g?void 0:g.id))))),[null==g?void 0:g.id,null==g?void 0:g.unsupported,E,k]),z=(0,a.useCallback)((e=>v(void 0,void 0,void 0,(function*(){const t=(0,m.F)();if(window.history.replaceState(null,"",t),!b)return i(e),void(y&&y(e));try{return yield null==b?void 0:b(e),i(e),void(y&&y(e))}catch(e){p.error(e)}}))),[y,i,b]);return a.createElement("div",{className:"items-center flex"},a.createElement(o.h_,null,a.createElement(o.$F,{asChild:!0},a.createElement(c.z,{type:"button",variant:S?"supportError":"secondary",id:"networkDropdownMenuButton",size:"sm",className:"text-body2 w-min px-4"},S?a.createElement(a.Fragment,null,a.createElement(s,{className:"w-5 h-5 md:hidden"}),a.createElement("span",{className:"hidden md:inline whitespace-nowrap"},t("dex-header-wrong-network",{defaultValue:"Wrong network"}))):a.createElement(a.Fragment,null,a.createElement("img",{className:"mr-1 h-5 w-5",src:`${e}${N}`}),a.createElement("span",{className:"sr-only md:not-sr-only whitespace-nowrap md:whitespace-nowrap"},(0,u.Tw)(null==C?void 0:C.id,null==C?void 0:C.name))),a.createElement("div",null,a.createElement(l.q,{className:"w-4 h-4"})))),a.createElement(o.cq,null,a.createElement(o.AW,{align:"start",sideOffset:16,side:"bottom",className:"bg-interactive-interactiveBg rounded-b-lg min-w-[188px] max-w-[188px] lg:shadow-elevation2 overflow-hidden"},S?a.createElement(x,{getI18n:t,onSwitchNetwork:z}):a.createElement(w,{staticHost:e,onSwitchNetwork:z})))))};var b=n(25219),g=n(51485),k=n(72249),E=n(49247),C=n(10600),N=n(72729),S=n(91531),z=n(91163),I=n(75402),B=n(2237),H=n(29543);const M=({onClose:e,title:t,message:n,okText:r})=>a.createElement(k.Z,{flexDirection:"column",alignItems:"center",width:["calc(100vw - 32px)","360px","360px"],maxWidth:"360px",p:"28px 24px",textAlign:"center",bg:"interactiveBg"},a.createElement(S.Z,{size:85,mb:"16px"}),a.createElement(E.Z,{variant:"headline6",mb:"xs",color:"t.primary"},t),a.createElement(E.Z,{variant:"body2",color:"t.secondary",mb:"md",textAlign:"center",maxHeight:"140px",overflowY:"auto",overflowX:"hidden",px:"2px",sx:{wordBreak:"break-word"}},n),a.createElement(C.Z,{sz:"normal",flex:"1",width:1,height:"40px",onClick:e},r));let[U,_,A,T,V]=[!1,"",!1,!1,!1];const j=({autoWarn:e=!0,sourceCode:t="",i18n:n}={autoWarn:!0,sourceCode:""})=>{const[r,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(0),[s,l]=(0,a.useState)(!1),d=((e,t)=>{const{t:n}=(0,B.$)("cloud-tdk",t?{i18n:t}:void 0);return(0,a.useMemo)((()=>"US"===e?{title:n("us-security-notice-title","US users notice"),message:n("us-security-notice-desc",'Citizens of the United States and users who are based in or living in any state in the country (collectively referred to as "US users") are prohibited from accessing the ApolloX platform. If you are a US user, you are not allowed to access the platform or bypass the platform restriction.'),okText:n("us-security-notice-OK","OK")}:{title:n("common-security-notice-title","Restricted areas users notice"),message:a.createElement(H.c,{t:n,i18nKey:"common-security-notice-desc",components:{MoreLink:a.createElement(N.Z,{target:"_blank",sx:{color:"t.link",display:"inline-block",cursor:"pointer","&:hover":{color:"t.linkHover"}},href:"https://apollox-finance.gitbook.io/apollox-finance/about-us/privacy-policy/restriction"})},defaults:"Users who are based in or living in any restricted areas are prohibited from accessing the ApolloX platform. If you are a restricted area user, you are not allowed to access the platform or bypass the platform restriction. <MoreLink>Click to see restriction area list.</MoreLink>"}),okText:n("us-security-notice-OK","OK")}),[e,n])})(_,n),u=(0,a.useCallback)((()=>{if(!U)return;const{close:e}=(0,z.u_)({content:a.createElement(M,{onClose:()=>{o(!0),e()},...d}),needCloseIcon:!1,sx:{p:0,bg:"unset",borderRadius:"8px"}})}),[U,d]),m=(0,a.useCallback)((()=>setTimeout((()=>{c((e=>e+1))}),200)),[]);return(0,a.useEffect)((()=>{(async()=>{if(!I.C||A)return void m();A=!0;const{success:e,data:{isBlocked:n,country:r}}=await(async(e="")=>{let t;try{t=await(0,g.v_)("/bapi/futures/v1/public/future/web3/common-check-ip",{sourceCode:e})}catch(e){t={success:!1}}return t})(t);e&&(U=n,_=r),T=!0,l(!0)})()}),[m,t]),(0,a.useEffect)((()=>{I.C&&(s||!T?s||T||m():l(!0))}),[U,m,i,T,s]),(0,a.useEffect)((()=>{U&&e&&!V&&(u(),V=!0)}),[U,e,u]),(0,a.useMemo)((()=>({isBlockIp:U,isUSIp:"US"===_,checked:s,isClose:r,doShowWarn:u})),[U,_,s,r,u])},O=new Error("US ip prohibited connect wallet");var W=n(33687),Z=n(96988);const F=()=>{const{t:e}=(0,Z.V6)(),{t}=(0,Z.HK)(),{isBlockIp:n,doShowWarn:o}=j();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:"flex items-center"},{children:(0,r.jsx)(y,{staticHost:W.brokerConfig.apxStaticBaseUrl,getI18n:t})})),(0,r.jsx)("div",Object.assign({className:"flex items-center"},{children:(0,r.jsx)(b.Z,{getI18n:e,onBeforeConnect:(a=!0===n,i=O,c=o,async()=>{if(a)throw c?.(),i})})}))]});var a,i,c}}}]);