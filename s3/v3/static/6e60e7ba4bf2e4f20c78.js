(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[5783],{42249:(e,i,t)=>{"use strict";t.d(i,{h:()=>a});var n=t(33075),s=t(84090),o=t(52983),r=t(95386);const a=()=>{const{selectedNetworkId:e}=(0,n.o6)(),i=(0,s.xx)({chainId:e});return(0,o.useMemo)((()=>r.yw[i]||{}),[i])}},2203:(e,i,t)=>{"use strict";t.d(i,{F:()=>D,K:()=>g});var n=t(11273),s=t(58395),o=t(5837),r=t(33740),a=t(76933),l=t(17921),c=t(52983),d=t(29543),u=t(95386),m=t(49506),p=t(49382),y=t(69464);const g={Close:1,CancelLimit:2,Open:3},f=({hash:e,onClose:i})=>{const{useHistoryDetail:t,getI18n:n}=(0,c.useContext)(y.C),{useHistoryDetailSymbol:o,useHistoryDetailType:r}=t(),{symbol:a,isLong:l,symbolName:d}=o(e),{i18n:u}=r(e);return(0,c.useMemo)((()=>c.createElement("div",{className:"flex items-center justify-between mb-4"},c.createElement("div",{className:"text-t-primary text-subtitle1"},d||a," ",l?n("orderForm-long","Long"):n("orderForm-short","Short")," -  ",u),c.createElement(s.E,{width:"20px",height:"20px",fontSize:"20px",className:"cursor-pointer absolute right-4 text-t-third",onClick:i}))),[n,u,l,i,a,d])},v=({hash:e})=>{const{getI18n:i,useHistoryDetail:t,staticHost:n}=(0,c.useContext)(y.C),{useHistoryDetailLeverage:s,useHistoryDetailSymbol:o,useHistoryDetailPNLROI:r}=t(),a=s(e),{symbolType:l}=o(e),{isPNLNegative:d,isPNLPositive:u}=r(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-leverage","Leverage")},c.createElement("div",{className:"flex items-center gap-1"},a,c.createElement(p.b,{staticHost:n,symbolType:l,isPNLNegative:d,isPNLPositive:u})))},h=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailInitialMargin:n}=t(),s=n(e),o=(0,c.useMemo)((()=>c.createElement("div",{className:"w-[282px]"},c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line"},i("userinfo-dialog-detail-history-initialMargin-tips01","Initial Margin is the margin initially allocated to this position.")),c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line mt-3"},i("userinfo-dialog-detail-history-initialMargin-tips02","Initial Margin = Principal - Open Fee")))),[i]);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-initialMargin","Initial Margin"),tips:o,showLabelSx:!0},s)},P=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailQtyAndSize:n,useHistoryDetailPair:s}=t(),{baseAsset:o}=s(e),{size:r,qty:a}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-qty","QTY(Size)")},a," ",o," ( ≈ ",r," USD )")},b=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailPrice:n}=t(),{entryPrice:s}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-entryPrice","Entry Price")},s," USD")},L=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailPrice:n}=t(),{closePrice:s}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-closePrice","Close Price")},s," USD")},S=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailLiqLostRate:n}=t(),s=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-liquidLostRate","Liquid Lost Rate")},`${new l.Z(s).multipliedBy(100).toFixed(2)}%`)},N=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailFundingFee:n}=t(),{fundingFee:s,isFundingFeeNegative:o}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-accFundingFee","Acc. Funding Fee")},c.createElement("div",{className:"text-subtitle2",style:{color:o?"var(--colors-t-sell)":"var(--colors-t-buy)"}},s))},E=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailPNLROI:n}=t(),{PNL:s,isPNLNegative:o}=n(e),r=(0,c.useMemo)((()=>c.createElement("div",{className:"w-[282px]"},c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line"},i("userinfo-dialog-detail-history-realizedPnl-tips01","Realized PNL only calculates the profit and loss generated after the position is successfully opened.")),c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line mt-3"},i("userinfo-dialog-detail-history-realizedPnl-tips02-v2","Long : Realized PNL = (Close Price - Entry Price) * Qty + Funding Fee")),c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line"},i("userinfo-dialog-detail-history-realizedPnl-tips03-v2","Short : Realized PNL = (Entry Price - Close Price ) * Qty + Funding Fee")))),[i]);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-realizedPnl","Realized PNL"),tips:r,showLabelSx:!0},c.createElement("div",{className:"text-subtitle2",style:{color:o?"var(--colors-t-sell)":"var(--colors-t-buy)"}},s))},F=({hash:e})=>{const{getI18n:i,useHistoryDetail:t,enableShare:n,ee:s}=(0,c.useContext)(y.C),{useHistoryDetailPNLROI:r}=t(),{ROI:a,isROINegative:l}=r(e),d=(0,c.useCallback)((()=>s.emit("MODAL_POSITION_SHARE_OPEN",{hash:e,overlay:!0})),[s,e]),u=(0,c.useMemo)((()=>c.createElement("div",{className:"w-[282px]"},c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line"},i("userinfo-dialog-detail-history-realizedROI-tips01","Realized ROI = Realized PNL / Initial margin * 100%")))),[i]);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-realizedROI","Realized ROI"),tips:u,showLabelSx:!0},c.createElement("div",{className:"text-subtitle2",style:{color:l?"var(--colors-t-sell)":"var(--colors-t-buy)"}},a),n&&c.createElement("div",null,c.createElement(o.f,{className:"relative ml-0.5 cursor-pointer text-t-third",width:"16px",height:"16px",fontSize:"16px",onClick:d})))},O=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailOpenCloseFee:n}=t(),{openFee:s}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-openFee","Open Fee")},s)},B=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailOpenCloseFee:n}=t(),{closeFee:s,isDynamicClosingFee:o}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-closeFee","Close Fee")},c.createElement("div",{className:"flex flex-col"},s,o?c.createElement("div",{className:"text-caption1 text-t-secondary text-right"},c.createElement(d.c,{i18nKey:"userinfo-close-fee-based-pnl",defaults:i("userinfo-close-fee-based-pnl","Charge based on PNL <viewMoreLink>View</viewMoreLink>"),components:{viewMoreLink:c.createElement("a",{href:u.WO,className:"text-t-link hover:text-t-linkHover",target:"_blank",rel:"noreferrer"})}})):null))},M=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailOpenCloseFee:n}=t(),{executionFee:s}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-executionFee","Execution Fee")},s)},w=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailNetProfit:n}=t(),{netProfit:s,isNetProfitNegative:o}=n(e),r=(0,c.useMemo)((()=>c.createElement("div",{className:"w-[282px]"},c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line"},i("userinfo-dialog-detail-history-netProfit-tips01","Net Profit is the profit and loss obtained after taking into account the trader's principal and trading fees.")),c.createElement("div",{className:"text-t-white text-caption whitespace-pre-line mt-3"},i("userinfo-dialog-detail-history-netProfit-tips02-v2","Net Profit = Realized PNL - Open Fee - Execution Fee - Close Fee")))),[i]);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-netProfit","Net Profit"),tips:r,showLabelSx:!0},c.createElement("div",{className:"text-subtitle2",style:{color:o?"var(--colors-t-sell)":"var(--colors-t-buy)"}},s))},T=({hash:e})=>{const{getI18n:i,useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailDuration:n}=t(),{time:s}=n(e);return c.createElement(m.Z,{label:i("userinfo-dialog-detail-time","Time")},s)},_=({hash:e})=>c.createElement("div",{className:"flex flex-col gap-6 max-h-[80vh] overflow-auto lg:h-[unset] lg:overflow-hidden lg:flex-row"},c.createElement("div",{className:"flex flex-col w-full lg:w-1/2 gap-4"},c.createElement(v,{hash:e}),c.createElement(h,{hash:e}),c.createElement(P,{hash:e}),c.createElement(b,{hash:e}),c.createElement(L,{hash:e}),c.createElement(S,{hash:e}),c.createElement(N,{hash:e}),c.createElement(E,{hash:e}),c.createElement(F,{hash:e})),c.createElement("div",{className:"flex flex-col w-full lg:w-1/2 gap-4 bg-interactive-interactive01 dark:bg-interactive-interactive01 rounded-[10px] p-[16px] h-[max-content] "},c.createElement(O,{hash:e}),c.createElement(M,{hash:e}),c.createElement(B,{hash:e}),c.createElement(w,{hash:e}),c.createElement("div",{className:"border-b-[var(--colors-border-line)] border-b border-solid"}),c.createElement(T,{hash:e}))),I=({hash:e})=>c.createElement("div",{className:"flex flex-col overflow-auto gap-6 max-h-[80vh]  lg:h-[unset] lg:overflow-hidden lg:flex-row"},c.createElement("div",{className:"flex flex-col w-full lg:w-1/2 gap-4"},c.createElement(v,{hash:e}),c.createElement(h,{hash:e}),c.createElement(P,{hash:e}),c.createElement(b,{hash:e}),c.createElement(S,{hash:e})),c.createElement("div",{className:"flex flex-col w-full lg:w-1/2 gap-4 bg-interactive-interactive01 dark:bg-interactive-interactive01 rounded-[10px] p-[16px] h-[max-content] "},c.createElement(O,{hash:e}),c.createElement(M,{hash:e}),c.createElement(T,{hash:e}))),C=({hash:e})=>c.createElement("div",{className:"flex max-h-[80vh] overflow-auto lg:max-h-[unset lg:overflow-hidden"},c.createElement("div",{className:"flex flex-col w-full gap-4"},c.createElement(T,{hash:e}))),x=({hash:e,onClose:i})=>{const{useHistoryDetail:t}=(0,c.useContext)(y.C),{useHistoryDetailType:n}=t(),{type:s}=n(e);return s===g.CancelLimit?c.createElement("div",{className:"history-detail-content w-full sm:w-[368px]"},c.createElement(f,{hash:e,onClose:i}),c.createElement(C,{hash:e})):c.createElement("div",{className:"history-detail-content w-full sm:w-[718px]"},c.createElement(f,{hash:e,onClose:i}),s===g.Close&&c.createElement(_,{hash:e}),s===g.Open&&c.createElement(I,{hash:e}))},D=()=>{const{ee:e}=(0,c.useContext)(y.C),[i,t]=(0,c.useState)(""),{isMobile:s}=(0,n.F)(),o=(0,c.useCallback)((()=>{t("")}),[]),l=(0,c.useCallback)((({hash:e})=>{t(e)}),[]);return(0,c.useEffect)((()=>(e.on("MODAL_HISTORY_DETAIL_OPEN",l),e.on("MODAL_HISTORY_DETAIL_CLOSE",o),()=>{e.off("MODAL_HISTORY_DETAIL_OPEN",l),e.off("MODAL_HISTORY_DETAIL_CLOSE",o)})),[e,o,l]),s?c.createElement(r.yo,{open:Boolean(i)},c.createElement(r.ue,{side:"bottom",className:"w-full border-none p-4 pb-6 rounded-t-[4px] bg-interactive-interactiveBg z-tooltip",onPointerDownOutside:o},c.createElement(x,{hash:i,onClose:o}))):c.createElement(a.Vq,{open:Boolean(i)},c.createElement(a.PK,null,c.createElement(a.cZ,{className:"p-4",onPointerDownOutside:o},c.createElement(x,{hash:i,onClose:o}))))}},69464:(e,i,t)=>{"use strict";t.d(i,{C:()=>n});const n=t(52983).createContext({})},49382:(e,i,t)=>{"use strict";t.d(i,{b:()=>r});var n=t(8429),s=t(27618),o=t(52983);const r=({symbolType:e,isPNLNegative:i,isPNLPositive:t,staticHost:r,className:a})=>{const l=(0,o.useMemo)((()=>i?`${r}/static/images/degen-mode/degen-negative-pnl.svg`:t?`${r}/static/images/degen-mode/degen-positive-pnl.svg`:`${r}/static/images/degen-mode/degen-neutral.svg`),[i,t,r]);return(0,n.L)(e).isDegenMode?o.createElement("img",{src:l,width:"20px",height:"20px",className:(0,s.cn)("w-5 h-5",a)}):null}},49506:(e,i,t)=>{"use strict";t.d(i,{Z:()=>l});var n=t(27618),s=t(52983),o=t(32142);const r=({label:e,showLabelSx:i,tips:t})=>(0,s.useMemo)((()=>{const n=s.createElement("div",{className:"text-t-secondary text-subtitle2 border-dashed border-b sm:border-none",style:{borderBottomColor:i?"var(--colors-t-secondary)":"transparent"}},e);return t?s.createElement(o.e,{tip:t},n):n}),[i,e,t]),a=e=>s.createElement("div",Object.assign({},e,{className:(0,n.cn)("flex items-center text-subtitle2 text-t-primary",e.className)})),l=({label:e,showLabelSx:i=!1,children:t,tips:n})=>(0,s.useMemo)((()=>s.createElement("div",{className:"flex items-top justify-between"},s.createElement(r,{tips:n,label:e,showLabelSx:i}),s.createElement(a,null,t))),[n,e,i,t])},87514:(e,i,t)=>{"use strict";t.d(i,{m:()=>s,r:()=>o});var n=t(17921);const s=(e,i=18)=>new n.Z(e).shiftedBy(-i).toString(10),o=(e,i=18)=>new n.Z(e).shiftedBy(i).toString(10)},5837:(e,i,t)=>{"use strict";t.d(i,{f:()=>s});var n=t(52983);const s=e=>n.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{d:"M9 14.5A6.5 6.5 0 0115.5 8h1.672l-2.586 2.586L16 12l5-5-5-5-1.414 1.414L17.172 6H15.5A8.5 8.5 0 007 14.5V17h2v-2.5z",fill:"currentColor"}),n.createElement("path",{d:"M19 15h2v6H3v-6h2v4h14v-4z",fill:"currentColor"}))},89479:(e,i,t)=>{var n=1/0,s="[object Symbol]",o="\\ud800-\\udfff",r="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",l="\\ufe0e\\ufe0f",c="["+o+"]",d="["+r+a+"]",u="\\ud83c[\\udffb-\\udfff]",m="[^"+o+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",f="(?:"+d+"|"+u+")?",v="["+l+"]?",h=v+f+"(?:"+g+"(?:"+[m,p,y].join("|")+")"+v+f+")*",P="(?:"+[m+d+"?",d,p,y,c].join("|")+")",b=RegExp(u+"(?="+u+")|"+P+h,"g"),L=RegExp("["+g+o+r+a+l+"]"),S="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,N="object"==typeof self&&self&&self.Object===Object&&self,E=S||N||Function("return this")();function F(e){return L.test(e)}var O=Object.prototype.toString,B=E.Symbol,M=B?B.prototype:void 0,w=M?M.toString:void 0;function T(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&O.call(e)==s}(e))return w?w.call(e):"";var i=e+"";return"0"==i&&1/e==-n?"-0":i}(e)}var _=("toUpperCase",function(e){var i,t,n,s,o=F(e=T(e))?function(e){return F(e)?function(e){return e.match(b)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,r=o?o[0]:e.charAt(0),a=o?(i=o,t=1,s=i.length,n=void 0===n?s:n,!t&&n>=s?i:function(e,i,t){var n=-1,s=e.length;i<0&&(i=-i>s?0:s+i),(t=t>s?s:t)<0&&(t+=s),s=i>t?0:t-i>>>0,i>>>=0;for(var o=Array(s);++n<s;)o[n]=e[n+i];return o}(i,t,n)).join(""):e.slice(1);return r.toUpperCase()+a});e.exports=function(e){return _(T(e).toLowerCase())}},56520:(e,i,t)=>{"use strict";t.d(i,{b2:()=>y,ch:()=>f,Xi:()=>S,RM:()=>E,yT:()=>L,uq:()=>F,v_:()=>O,iA:()=>M,a6:()=>w,r2:()=>T,D:()=>I,k6:()=>l.k6,uN:()=>ie,zV:()=>l.zV,g8:()=>l.g8,xK:()=>ue,oU:()=>de,ZC:()=>l.ZC,Fc:()=>l.Fc,kD:()=>l.kD,PC:()=>l.PC,Gn:()=>l.Gn});var n=t(52983),s=t(85292),o=t(87514),r=t(17921),a=t(68692),l=t(15408),c=t(42249);const d=e=>{const i=(0,a.h)(),t=(0,l.XS)(e,"tokenIn"),d=(0,s.QG)(t),u=(0,l.XS)(e,"margin"),{displaySymbol:m}=(e=>{const i=(0,a.h)(),t=(0,l.XS)(e,"tokenSymbol"),o=(0,l.XS)(e,"tokenIn"),r=(0,s.At)(o),d=(0,c.h)(),u=i?t:r,m=d[u]||u;return(0,n.useMemo)((()=>({displaySymbol:m,originalSymbol:u})),[m,u])})(e),p=(0,s.RK)(m),y=!!m;return(0,n.useMemo)((()=>({initialed:y,symbol:m,margin:i?u:new r.Z((0,o.m)(u,d)),qtyPrecision:p})),[y,m,i,u,d,p])},u=e=>{const{symbol:i}=d(e),t=(0,s.Ms)(i);return(0,n.useMemo)((()=>t),[t])};var m=t(72830);const p=e=>{const i=(0,a.h)(),t=(0,l.XS)(e,"tokenIn"),r=(0,s.QG)(t),c=(0,l.XS)(e,"openFee"),d=(0,l.XS)(e,"closeFee"),u=(0,l.XS)(e,"fundingFee"),m=(0,l.XS)(e,"executionFee"),p=(0,l.XS)(e,"holdingFee");return(0,n.useMemo)((()=>i?{openFee:c,closeFee:d,fundingFee:u,executionFee:m,holdingFee:p}:{openFee:(0,o.m)(c,r),closeFee:(0,o.m)(d,r),fundingFee:(0,o.m)(u,r),executionFee:(0,o.m)(m,r),holdingFee:(0,o.m)(p,r)}),[d,r,m,u,p,c,i])},y=e=>{const i=(0,l.XS)(e,"actionType"),t=(0,c.h)(),{openFee:s,closeFee:o,executionFee:a}=p(e),{initialed:u,symbol:y,qtyPrecision:g}=d(e);return(0,n.useMemo)((()=>{let e=new r.Z("-");return"OPEN"===i&&(e=new r.Z(s).plus(a)),"CLOSE"!==i&&"TP"!==i&&"SL"!==i&&"LIQUIDATED"!==i||(e=new r.Z(o)),"CANCEL_LIMIT"!==i&&"SYSTEM_CANCEL"!==i||(e=new r.Z("-")),u&&e.isFinite()?`${(0,m.uf)(e,g)} ${t[y]||y}`:"-"}),[i,o,a,u,s,y,g,t])},g=e=>{const i=d(e),{symbol:t,index:s}=u(e);return(0,n.useMemo)((()=>Object.assign(Object.assign({},i),{initialed:i.initialed&&void 0!==t,margin:new r.Z(i.margin).multipliedBy(s)})),[s,i,t])},f=e=>{const i=(e=>{const i=(0,l.XS)(e,"qty"),t=(0,l.XS)(e,"entryPrice"),{margin:s,initialed:o}=g(e);return(0,n.useMemo)((()=>o?new r.Z(i).multipliedBy(t).dividedBy(s):new r.Z(1/0)),[t,o,s,i])})(e);return(0,n.useMemo)((()=>i.isFinite()?`${i.toFixed(1)}x`:"-"),[i])};var v=t(89479),h=t.n(v),P=t(96988);const b=e=>{const i=(0,l.XS)(e,"actionType"),t=(0,l.XS)(e,"entryPrice"),s=(0,l.XS)(e,"closePrice");return(0,n.useMemo)((()=>"CANCEL_LIMIT"===i||"SYSTEM_CANCEL"===i?"-":"OPEN"===i?t:"LIQUIDATED"===i||"TP"===i||"SL"===i||"CLOSE"===i?s:"-"),[i,s,t])},L=e=>{const i=(0,l.XS)(e,"pair"),t=b(e),o=(0,s.fV)(i);return(0,n.useMemo)((()=>{const e=new r.Z(t);return e.isFinite()?(0,m.uf)(e,o):"-"}),[t,o])},S=e=>{const i=(0,l.XS)(e,"actionType"),t=(0,l.XS)(e,"side"),s=(0,l.XS)(e,"qty"),o=(0,l.XS)(e,"pair"),a=(0,l.XS)(e,"timestamp"),{getI18n:c}=(0,P.V6)(),u=b(e),p=L(e),{symbol:y,qtyPrecision:g}=d(e),f=(0,n.useMemo)((()=>{const e=new r.Z(s).multipliedBy(u);return e.isFinite()?(0,m.uf)(e,g):"-"}),[u,s,g]),v=(0,n.useMemo)((()=>"CANCEL_LIMIT"===i||"SYSTEM_CANCEL"===i),[i]),S=(0,n.useMemo)((()=>{const e=(0,m.Bv)(Number(a));return(0,m.Bv)().diff(e,"hour")>24?e.format("YYYY-MM-DD"):e.format("HH:mm:ss")}),[a]);return(0,n.useMemo)((()=>({side:c(`userinfo-history-side-${t.toUpperCase()}`,h()(t))||h()(t),symbol:o,price:p,size:f,isCancelOrSystemCancel:v,timeFormat:S,marginToken:y})),[p,c,v,o,t,f,S,y])},N=e=>{const i=(0,a.h)(),t=(0,l.XS)(e,"pnl"),r=(0,l.XS)(e,"tokenIn"),c=(0,s.QG)(r);return(0,n.useMemo)((()=>i?t:(0,o.m)(t,c)),[i,t,c])},E=e=>{const i=(0,c.h)(),t=N(e),s=(0,l.XS)(e,"actionType"),{fundingFee:o,holdingFee:a}=p(e),{initialed:u,margin:y,symbol:g,qtyPrecision:f}=d(e);return(0,n.useMemo)((()=>{const e=i[g]||g;if("CLOSE"===s||"LIQUIDATED"===s||"TP"===s||"SL"===s){const i=new r.Z(t).plus(o).minus(a),n=new r.Z(i).dividedBy(y),s=(0,m.uf)(i,f),l=`${(0,m.uf)(n.multipliedBy(100),2)}%`;return{PNL:u&&i.isFinite()?i.isNegative()?`${s} ${e}`:`+${s} ${e}`:"-",PNLNFormat:u&&i.isFinite()?i.isNegative()?(0,m.pF)(i.toNumber(),f):`+${(0,m.pF)(i.toNumber(),f)}`:"-",ROI:u&&n.isFinite()?n.isNegative()?l:`+${l}`:"-",isPNLNegative:i.isNegative(),isROINegative:n.isNegative(),tokenInSymbol:e}}return{PNL:"-",ROI:"-",isPNLNegative:void 0,isROINegative:void 0,PNLNFormat:"-",tokenInSymbol:e}}),[s,o,a,u,y,t,f,g,i])},F=e=>{const{getI18n:i}=(0,P.V6)(),t=(0,l.XS)(e,"side");return(0,n.useMemo)((()=>i(`userinfo-history-side-${t.toUpperCase()}`,h()(t))||h()(t)),[i,t])},O=e=>{const i=(0,l.XS)(e,"qty"),t=(0,l.XS)(e,"entryPrice"),s=(0,l.XS)(e,"closePrice"),o=(0,l.XS)(e,"actionType");return(0,n.useMemo)((()=>{let e=new r.Z("-");return"OPEN"===o&&(e=new r.Z(t).multipliedBy(i)),"CLOSE"!==o&&"SL"!==o&&"TP"!==o&&"LIQUIDATED"!==o||(e=new r.Z(s).multipliedBy(i)),e.isFinite()?(0,m.uf)(e.toFixed(1),1):"-"}),[o,s,t,i])};var B=t(86593);const M=e=>{const i=(0,l.XS)(e,"pair"),t=(0,l.XS)(e,"isLong"),{productMap:s}=(0,B.GS)();return(0,n.useMemo)((()=>{var e,n;return{symbol:i,isLong:t,symbolType:null===(e=s[i])||void 0===e?void 0:e.symbolType,symbolName:null===(n=s[i])||void 0===n?void 0:n.symbolName}}),[i,t,s])},w=e=>{const i=(0,l.XS)(e,"timestamp");return(0,n.useMemo)((()=>(0,m.Bv)(Number(i)).isValid()?(0,m.Bv)(Number(i)).format("MM-DD HH:mm:ss"):"-"),[i])},T=e=>{const i=(0,l.XS)(e,"actionType"),{getI18n:t}=(0,P.V6)();return(0,n.useMemo)((()=>i?t(`userinfo-history-type-${i.toUpperCase()}`,{defaultValue:i.toUpperCase()}):"-"),[t,i])};var _=t(17845);const I=()=>({useHistoryTab:l.g8,fetchPredictions:()=>{_.ee.emit("FETCH_DUMB_HISTORY_LIST",void 0)},usePredictionDataByFiled:l.ZC,usePredictionHasMore:l.Fc,usePredictionInitialed:l.kD,usePredictionLoading:l.PC,usePredictions:l.Gn,usePricePrecision:s.fV,useAssetPrecision:s.RK});var C=t(95386),x=t(49229),D=t(84090),k=t(29376);const Z=e=>{const i=(0,k.E)(),{data:t}=(0,D.do)(Object.assign(Object.assign({},i),{functionName:"pairsV4",staleTime:1/0,scopeKey:"pairs"}));return(0,n.useMemo)((()=>{var i;return(null===(i=(t||[]).find((i=>i.name.replace("/","")===e)))||void 0===i?void 0:i.base)||""}),[t,e])},R=e=>{const i=(0,l.XS)(e,"qty"),t=(0,l.XS)(e,"pair"),o=Z(t),a=(0,l.XS)(e,"entryPrice"),c=(0,n.useMemo)((()=>new r.Z(i).multipliedBy(a)),[a,i]),d=(0,s.tz)(o,c);return(0,n.useMemo)((()=>(0,x.mb)(null==d?void 0:d.liqLostP,C.cB.percent)),[d])},U=e=>{const i=(0,l.XS)(e,"timestamp"),{getI18n:t}=(0,P.V6)();return(0,n.useMemo)((()=>(0,m.jE)(Number(i),t)),[i,t])},A=e=>{const{openFee:i,executionFee:t,fundingFee:s,closeFee:o,holdingFee:a}=p(e),{symbol:l,index:c}=u(e);return(0,n.useMemo)((()=>({initialed:void 0!==l,openFee:new r.Z(i).multipliedBy(c),closeFee:new r.Z(o).multipliedBy(c),fundingFee:new r.Z(s).multipliedBy(c),executionFee:new r.Z(t).multipliedBy(c),holdingFee:new r.Z(a).multipliedBy(c)})),[l,i,c,o,s,t,a])},H=e=>{const i=(0,c.h)(),{fundingFee:t,holdingFee:s}=p(e),{fundingFee:o,holdingFee:a}=A(e),{symbol:l,qtyPrecision:u}=d(e);return(0,n.useMemo)((()=>{const e=new r.Z(t).minus(s);return{fundingFee:`${e.isNegative()?"":"+"}${(0,m.FL)(e,u)} ${i[l]||l} ( ≈ ${(0,m.uf)(new r.Z(o).minus(a),2)} USD )`,isFundingFeeNegative:e.isNegative()}}),[t,s,u,l,o,a,i])},$=e=>{const i=(0,c.h)(),{margin:t,symbol:s,qtyPrecision:o}=d(e),{margin:r}=g(e);return(0,n.useMemo)((()=>`${(0,m.FL)(t,o)} ${i[s]||s} ( ≈ ${(0,m.uf)(r,1)} USD )`),[t,o,s,r,i])};var q=t(2203);const j=["CLOSE","TP","SL","LIQUIDATED"],X=["CANCEL_LIMIT","SYSTEM_CANCEL"],z=["OPEN"],G=e=>{const{getI18n:i}=(0,P.V6)(),t=(0,l.XS)(e,"actionType"),s=i(`userinfo-history-type-${null==t?void 0:t.toUpperCase()}`,{defaultValue:null==t?void 0:t.toUpperCase()}),o=(0,n.useMemo)((()=>[{types:j,type:q.K.Close},{types:z,type:q.K.Open},{types:X,type:q.K.CancelLimit}]),[]);return(0,n.useMemo)((()=>Object.assign(Object.assign({},o.find((e=>e.types.includes(null==t?void 0:t.toUpperCase())))||{type:void 0}),{i18n:s})),[t,s,o])},V=e=>{const i=(0,c.h)(),t=N(e),{margin:s,symbol:o,qtyPrecision:a}=d(e),y=(0,l.XS)(e,"actionType"),{fundingFee:g}=p(e),{index:f}=u(e);return(0,n.useMemo)((()=>{const e=i[o]||o;if(j.includes(y)){const i=new r.Z(t).plus(g),n=new r.Z(i).dividedBy(s),o=(0,m.FL)(i,a),l=`${(0,m.uf)(n.multipliedBy(100),2)}%`,c=i.isNegative(),d=i.isPositive(),u=n.isNegative();return{PNL:i.isFinite()?`${c?"":"+"}${o} ${e} ( ≈ ${(0,m.uf)(i.multipliedBy(f),1)} USD\n        )`:"-",PNLOrigin:i,PNLFormatted:o,ROI:n.isFinite()?`${u?"":"+"}${l}`:"-",isPNLNegative:c,isROINegative:u,isPNLPositive:d,tokenInSymbol:e}}return{PNL:"-",PNLOrigin:new r.Z(0),PNLFormatted:"-",ROI:"-",isPNLNegative:!1,isROINegative:!1,isPNLPositive:!1,tokenInSymbol:e}}),[y,g,f,s,t,a,o,i])},Q=e=>{const{PNLOrigin:i}=V(e),{openFee:t,executionFee:n,closeFee:s}=p(e);return i.minus(t).minus(n).minus(s)},Y=e=>{const i=(0,c.h)(),{symbol:t,qtyPrecision:s}=d(e),o=Q(e),r=(e=>{const i=Q(e),{index:t}=u(e);return i.multipliedBy(t)})(e);return(0,n.useMemo)((()=>({netProfit:o.isNaN()?"-":`${o.isNegative()?"":"+"}${(0,m.FL)(o.toNumber(),s)} ${i[t]||t} ( ≈ ${(0,m.uf)(r,1)} USD )`,isNetProfitNegative:o.isNegative()})),[o,s,t,r,i])},K=e=>{const i=(0,c.h)(),{openFee:t,closeFee:o,executionFee:a}=p(e),{openFee:u,closeFee:y,executionFee:g}=A(e),f=(0,l.XS)(e,"pair"),v=Z(f),{data:h}=(0,s.Bu)(v),{symbol:P,qtyPrecision:b}=d(e);return(0,n.useMemo)((()=>{var e,n;return{isDynamicClosingFee:Boolean(h.feeConfig&&(null===(e=h.feeConfig)||void 0===e?void 0:e.shareP)>0&&(null===(n=h.feeConfig)||void 0===n?void 0:n.minCloseFeeP)>0),openFee:`${(0,m.FL)(new r.Z(t),b)} ${i[P]||P} ( ≈ ${(0,m.uf)(u,2)} USD )`,executionFee:`${(0,m.FL)(new r.Z(a),b)} ${i[P]||P} ( ≈ ${(0,m.uf)(g,2)} USD )`,closeFee:`${(0,m.FL)(o,b)} ${i[P]||P} ( ≈ ${(0,m.uf)(y,2)} USD )`}}),[h.feeConfig,t,b,P,u,a,g,o,y,i])},J=e=>{const i=(0,l.XS)(e,"pair"),t=(0,B.Lh)(i,"baseAsset");return(0,n.useMemo)((()=>({pair:i,baseAsset:t})),[i,t])},W=e=>{const i=(0,l.XS)(e,"pair"),t=(0,l.XS)(e,"entryPrice"),o=(0,l.XS)(e,"closePrice"),a=(0,s.fV)(i);return(0,n.useMemo)((()=>({entryPrice:new r.Z(t).isFinite()?(0,m.uf)(t,a):"-",closePrice:new r.Z(o).isFinite()?(0,m.uf)(o,a):"-"})),[t,a,o])},ee=e=>{const i=O(e),t=(0,l.XS)(e,"qty"),s=(0,l.XS)(e,"pair"),o=(0,B.Lh)(s,"quantityPrecision");return(0,n.useMemo)((()=>({size:i,qty:(0,m.uf)(t,o)})),[t,o,i])},ie=()=>(0,n.useMemo)((()=>({useHistoryDetailType:G,useHistoryDetailPair:J,useHistoryDetailLeverage:f,useHistoryDetailInitialMargin:$,useHistoryDetailSymbol:M,useHistoryDetailQtyAndSize:ee,useHistoryDetailFundingFee:H,useHistoryDetailOpenCloseFee:K,useHistoryDetailPrice:W,useHistoryDetailLiqLostRate:R,useHistoryDetailPNLROI:V,useHistoryDetailNetProfit:Y,useHistoryDetailDuration:U})),[]);var te=t(76398),ne=t(19260),se=t(33075),oe=t(84542),re=t(3421),ae=t(27502);const le={LIMIT:{label:"LIMIT",index:0},CANCEL_LIMIT:{label:"CANCEL_LIMIT",index:1},SYSTEM_CANCEL:{label:"SYSTEM_CANCEL",index:2},OPEN:{label:"OPEN",index:3},CLOSE:{label:"CLOSE",index:4},TP:{label:"TP",index:5},SL:{label:"SL",index:6},LIQ:{label:"LIQUIDATED",index:7}},ce=10,de=()=>{const{data:e,hasNextPage:i,fetchNextPage:t,isFetchingNextPage:o}=(0,s.bC)({page:1,limit:ce}),{address:r,isConnected:a}=(0,D.mA)(),c=(0,l.z)((e=>e.refreshPrediction)),d=(0,l.z)((e=>e.setPredictionLoading)),u=(0,l.z)((e=>e.setPredictionHasMore)),m=(0,l.z)((e=>e.resetPrediction));return(0,n.useEffect)((()=>{e&&c(null==e?void 0:e.pages.map((e=>e.data)).flat())}),[e,c]),(0,n.useEffect)((()=>(a&&r?_.ee.on("FETCH_DUMB_HISTORY_LIST",t):_.ee.off("FETCH_DUMB_HISTORY_LIST",t),()=>{_.ee.off("FETCH_DUMB_HISTORY_LIST",t)})),[r,a,t]),(0,n.useEffect)((()=>{d(null!=o&&o)}),[o,d]),(0,n.useEffect)((()=>{u(null!=i&&i)}),[i,u]),(0,n.useEffect)((()=>()=>{m()}),[m]),(0,n.useMemo)((()=>({hasMore:i,loadMoreLoading:o})),[i,o])},ue=()=>{const e=(0,s.E4)(),i=(0,a.h)(),{selectedNetworkId:t}=(0,se.o6)(),r=(0,D.xx)({chainId:t}),{address:c,isConnected:d}=(0,D.mA)(),u=(0,l.z)((e=>e.appendHistory)),m=(0,l.z)((e=>e.resetHistory)),[p,y]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),v=(0,n.useRef)(0),h=(0,n.useRef)(0),P=(0,D.yL)(),b=(0,D.cq)(Object.assign(Object.assign({},e),{signerOrProvider:P})),L=(0,ne.D)((()=>(0,te.__awaiter)(void 0,void 0,void 0,(function*(){if(!d||!c)return;if(g)return;let e,t;if(f(!0),i){const{orderAndTradeHistories:i}=yield(({chainId:e,address:i,page:t=1,limit:n=10})=>(0,te.__awaiter)(void 0,void 0,void 0,(function*(){const s=(0,oe.pT)(e);try{if(!i&&!s)return{order:null};const e=(0,re.BH)((null==s?void 0:s.apiNetwork)||"bnb"),o={query:"\n  query OrderAndTradeHistorys($skip: Int, $first: Int, $user: String) {\n    orderAndTradeHistories(\n        skip: $skip\n        first: $first\n        orderBy: timestamp\n        orderDirection: desc\n        where: { \n            user: $user\n            actionType_not: ADD_MARGIN\n        }\n    ) {\n        id\n        orderOrTradeHash\n        actionType\n        timestamp\n        txHash\n        limitOrder {\n            pair {\n                name\n            }\n            isLong\n            token {\n                symbol\n            }\n            amountIn\n            limitPrice\n            qty\n            takeProfit\n            stopLoss\n        }\n        trade {\n            pair {\n                name\n            }\n            isLong\n            token {\n                symbol\n            }\n            margin\n            entryPrice\n            qty\n            openFee\n            executionFee\n            closeType\n            closePrice\n            closeFee\n            fundingFee\n            holdingFee\n            pnl\n            actualPnl\n        }\n    }\n}\n",variables:{user:i,skip:t,first:n}},r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(o),next:{revalidate:60}};return(0,ae.j)("graphql_request",{api:e,feature:"UserInfo/History",source:"apx"}),(yield(yield fetch(e,r)).json()).data}catch(e){return{order:null}}})))({chainId:r,address:c,page:v.current*ce,limit:ce});e=i||[],t=e.filter((e=>"LIMIT"!==e.actionType)).map((e=>{var i,t,n,s,o,r,a,l,c,d,u,m,p,y;const g=le[e.actionType]||{},f={hash:`${e.orderOrTradeHash}-${e.timestamp}-${g.index}`,timestamp:`${e.timestamp}000`,actionType:g.label,side:"LONG",pair:"",tokenSymbol:"",isLong:!1,qty:"",entryPrice:"",margin:"",closePrice:"",openFee:"",fundingFee:"",closeFee:"",executionFee:"",holdingFee:"",pnl:""};let v={};return v="CANCEL_LIMIT"===e.actionType||"SYSTEM_CANCEL"===e.actionType?{pair:e.limitOrder.pair.name.replace("/",""),isLong:e.limitOrder.isLong,side:e.limitOrder.isLong?"LONG":"SHORT",tokenSymbol:e.limitOrder.token.symbol}:{pair:null===(i=e.trade)||void 0===i?void 0:i.pair.name.replace("/",""),isLong:null===(t=e.trade)||void 0===t?void 0:t.isLong,side:(null===(n=e.trade)||void 0===n?void 0:n.isLong)?"LONG":"SHORT",qty:null===(s=e.trade)||void 0===s?void 0:s.qty,entryPrice:null===(o=e.trade)||void 0===o?void 0:o.entryPrice,closePrice:null===(r=e.trade)||void 0===r?void 0:r.closePrice,margin:null===(a=e.trade)||void 0===a?void 0:a.margin,openFee:null===(l=e.trade)||void 0===l?void 0:l.openFee,executionFee:null===(c=e.trade)||void 0===c?void 0:c.executionFee,fundingFee:null===(d=e.trade)||void 0===d?void 0:d.fundingFee,closeFee:null===(u=e.trade)||void 0===u?void 0:u.closeFee,holdingFee:null===(m=e.trade)||void 0===m?void 0:m.holdingFee,pnl:null===(p=e.trade)||void 0===p?void 0:p.pnl,tokenSymbol:null===(y=e.trade)||void 0===y?void 0:y.token.symbol},Object.assign(Object.assign(Object.assign({},e),f),v)}))}else e=yield null==b?void 0:b.getOrderAndTradeHistoryV2(c,v.current*ce,ce),t=e.filter((e=>0!==e.actionType)).map((e=>{const i=Object.values(le).find((i=>i.index===e.actionType))||le.LIMIT,t={hash:`${e.hash}-${e.timestamp}-${e.actionType}`,timestamp:`${e.timestamp}000`,pair:e.pair.replace("/",""),isLong:e.isLong,actionType:i.label,side:e.isLong?"LONG":"SHORT",margin:e.margin.toString(),qty:(0,o.m)(e.qty.toString(),C.cB.qty),entryPrice:(0,o.m)(e.entryPrice.toString(),C.cB.price),closePrice:(0,o.m)(e.closePrice.toString(),C.cB.price),openFee:e.openFee.toString(),executionFee:e.executionFee.toString(),fundingFee:e.fundingFee.toString(),closeFee:e.closeFee.toString(),holdingFee:e.holdingFee.toString(),tokenIn:e.tokenIn,pnl:e.pnl.toString()};return Object.assign(Object.assign({},e),t)}));v.current+=1,h.current+=e.length,f(!1),y(v.current*ce<=h.current),u(t)}))));return(0,n.useEffect)((()=>{d||u([])}),[u,d]),(0,n.useEffect)((()=>(d&&L(),()=>{d&&(m(),v.current=0,h.current=0)})),[d]),(0,n.useMemo)((()=>({loadMore:L,hasMore:p,loadMoreLoading:g})),[L,p,g])}},74377:(e,i,t)=>{"use strict";t.d(i,{d0:()=>a,SD:()=>m,ch:()=>y,uT:()=>f,PH:()=>v,v_:()=>h,iA:()=>P,a1:()=>b,Ub:()=>N,Gc:()=>T,Jo:()=>C,M2:()=>Z,CE:()=>R,ls:()=>A,yi:()=>g.yi,uY:()=>g.uY});var n=t(86767),s=t(52983),o=t(85292),r=t(86593);const a=()=>{const{symbol:e}=(0,r.Dp)(),i=(0,o.d0)();return(0,s.useCallback)((t=>{var n;t!==e&&(i({isBlank:!1,stateSymbol:t}),null===(n=document.querySelector("#orderForm"))||void 0===n||n.scrollIntoView({behavior:"smooth"}))}),[i,e])};var l=t(42249),c=t(72830),d=t(17921),u=t(48977);const m=e=>{const i=(e=>{const{amountIn:i}=(0,u.E)(e);return(0,s.useMemo)((()=>new d.Z(i)),[i])})(e),t=(0,l.h)(),{initialed:n,symbol:o,qtyPrecision:r}=(0,u.E)(e);return(0,s.useMemo)((()=>n&&i.isFinite()?`${(0,c.uf)(i,r)} ${t[o]||o}`:"-"),[i,n,o,r,t])};t(73091);var p=t(41325);const y=e=>{const i=(0,p.r)(e);return(0,s.useMemo)((()=>i.isFinite()?`${i.toFixed(1)}x`:"-"),[i])};var g=t(47987);const f=e=>{const i=(0,g.UL)(e,"limitPrice"),t=(0,g.UL)(e,"pair"),n=(0,o.fV)(t);return(0,s.useMemo)((()=>{const e=new d.Z(i);return e.isFinite()?(0,c.uf)(e,n):"-"}),[i,n])},v=e=>{const i=(0,g.UL)(e,"pair"),t=(0,o.fV)(i),{close:n}=(0,o.Le)(i);return(0,s.useMemo)((()=>{const e=new d.Z(n);return e.isFinite()?(0,c.uf)(e,t):"-"}),[n,t])},h=e=>{const i=(0,g.UL)(e,"qty"),t=(0,g.UL)(e,"limitPrice");return(0,s.useMemo)((()=>{const e=new d.Z(i).multipliedBy(t);return e.isFinite()?(0,c.uf)(e.toFixed(1),1):"-"}),[t,i])},P=e=>{const i=(0,g.UL)(e,"pair"),t=(0,g.UL)(e,"isLong"),{productMap:n}=(0,r.GS)();return(0,s.useMemo)((()=>{var e,s;return{symbol:i,isLong:t,symbolType:null===(e=n[i])||void 0===e?void 0:e.symbolType,symbolName:null===(s=n[i])||void 0===s?void 0:s.symbolName}}),[t,i,n])},b=e=>{const i=(0,g.UL)(e,"takeProfit"),t=(0,g.UL)(e,"stopLoss"),n=(0,g.UL)(e,"pair"),r=(0,o.fV)(n);return(0,s.useMemo)((()=>{const e=new d.Z(i),n=new d.Z(t);return{takeProfit:e.isFinite()?(0,c.uf)(e,r):"-",stopLoss:n.isFinite()&&!n.isEqualTo(0)?(0,c.uf)(n,r):"-"}}),[r,t,i])};var L=t(95386),S=t(49229);const N=e=>{const i=(0,g.UL)(e,"limitPrice"),t=(0,g.UL)(e,"side"),n=(0,g.UL)(e,"pair"),r=(0,o.fV)(n),a=(e=>{const i=(0,g.UL)(e,"pair"),t=(0,g.UL)(e,"pairBase"),n=(0,g.UL)(e,"isLong"),r=(0,g.UL)(e,"qty"),{close:a}=(0,o.Le)(i),{data:l}=(0,o.Bu)(t),{data:c}=(0,o.Jg)(t);return(0,s.useMemo)((()=>{if(l&&c){const{slippageType:e,onePercentDepthAboveUsd:i,onePercentDepthBelowUsd:t,slippageLongP:s,slippageShortP:o}=l.slippageConfig||{},{longQty:u,shortQty:m}=c;if(1===e)return n?new d.Z(r).multipliedBy(a).plus(new d.Z((0,S.mb)(u.toString(),L.cB.qty)).multipliedBy(a)).dividedBy((0,S.mb)(i.toString(),L.cB.usd)).toFixed(4,d.Z.ROUND_UP):new d.Z(r).multipliedBy(a).plus(new d.Z((0,S.mb)(m.toString(),L.cB.qty)).multipliedBy(a)).dividedBy((0,S.mb)(t.toString(),L.cB.usd)).toFixed(4,d.Z.ROUND_UP);if(0===e)return n?(0,S.mb)(s.toString(),L.cB.percent):(0,S.mb)(o.toString(),L.cB.percent);if(2===e){const e=new d.Z(r).multipliedBy(a),l=new d.Z((0,S.mb)(u.toString(),L.cB.qty)).multipliedBy(a),c=new d.Z((0,S.mb)(m.toString(),L.cB.qty)).multipliedBy(a),p=(0,S.mb)((n?i:t).toString(),L.cB.usd),y=new d.Z((0,S.mb)((n?s:o).toString(),L.cB.percent)),g=(n?e.minus(c).plus(l):e.minus(l).plus(c)).dividedBy(p);return d.Z.max(g,y).toFixed(4,d.Z.ROUND_UP)}return NaN}return NaN}),[n,a,c,l,r])})(e),l=(0,s.useMemo)((()=>"LONG"===t),[t]);return(0,s.useMemo)((()=>{const e=l?new d.Z(i).multipliedBy(new d.Z(1).minus(a)):new d.Z(i).multipliedBy(new d.Z(1).plus(a));return e.isFinite()?(0,c.uf)(e,r):"-"}),[l,i,r,a])};var E=t(76398),F=t(60103),O=t(84090),B=t(28006),M=t(17845),w=t(96988);const T=()=>{const{setDisabled:e}=(0,r.a9)(),{getI18n:i}=(0,w.V6)(),{submit:t}=(0,F.t)({getI18n:i}),n=(0,o.E4)(),a="cancelLimitOrder",{writeAsync:l}=(0,O.GG)(Object.assign(Object.assign({},n),{mode:"recklesslyUnprepared",functionName:a}));return(0,s.useCallback)((i=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){e(!0);try{const e=[i],s=yield(0,B.$q)(Object.assign(Object.assign({},n),{functionName:a,args:e})),{gasLimit:o}=s.request;yield t((()=>null==l?void 0:l({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,c.zb)(o)}}))),M.ee.emit("REFETCH_ORDER_LIST",void 0)}catch(e){}return e(!1),!0}))),[n,t,l,e])},_=new(t(58407).v);var I=t(59712);const C=()=>{const{getI18n:e}=(0,w.V6)(),{setDisabled:i}=(0,r.a9)(),t=(0,o.E4)(),{submit:n}=(0,F.t)({getI18n:e}),{writeAsync:a}=(0,O.GG)(Object.assign(Object.assign({},t),{mode:"recklesslyUnprepared",functionName:"updateOrderTpAndSl"})),{writeAsync:l}=(0,O.GG)(Object.assign(Object.assign({},t),{mode:"recklesslyUnprepared",functionName:"updateOrderTp"})),{writeAsync:u}=(0,O.GG)(Object.assign(Object.assign({},t),{mode:"recklesslyUnprepared",functionName:"updateOrderSl"}));(0,s.useEffect)((()=>_.on("UPDATE_ORDER_TP_SL",(e=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:s,takeProfit:o,stopLoss:r,closeModalCallBack:l}=e;i(!0),I.debug("updateOrderTpAndSl",s,o,r);try{const e=[s,(0,S.r0)(o,L.cB.price),new d.Z(r).isEqualTo(0)||new d.Z(r).isNaN()?0:(0,S.r0)(r,L.cB.price)],i=yield(0,B.$q)(Object.assign(Object.assign({},t),{functionName:"updateOrderTpAndSl",args:e})),{gasLimit:u}=i.request;yield n((()=>null==a?void 0:a({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,c.zb)(u)}})),{onUserConfirm(){null==l||l()}}),M.ee.emit("REFETCH_ORDER_LIST",void 0)}catch(e){}i(!1)}))))),[t,n,a,i]),(0,s.useEffect)((()=>_.on("UPDATE_ORDER_TP",(e=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:s,takeProfit:o,closeModalCallBack:r}=e;i(!0),I.debug("updateOrderTp",s,o);try{const e=[s,(0,S.r0)(o,L.cB.price)],i=yield(0,B.$q)(Object.assign(Object.assign({},t),{functionName:"updateOrderTp",args:e})),{gasLimit:a}=i.request;yield n((()=>null==l?void 0:l({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,c.zb)(a)}})),{onUserConfirm(){null==r||r()}}),M.ee.emit("REFETCH_ORDER_LIST",void 0)}catch(e){}i(!1)}))))),[t,n,l,i]),(0,s.useEffect)((()=>_.on("UPDATE_ORDER_SL",(e=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:s,stopLoss:o,closeModalCallBack:r}=e;i(!0),I.debug("updateOrderSl",s,o);try{const e=[s,new d.Z(o).isEqualTo(0)||new d.Z(o).isNaN()?0:(0,S.r0)(o,L.cB.price)],i=yield(0,B.$q)(Object.assign(Object.assign({},t),{functionName:"updateOrderSl",args:e})),{gasLimit:a}=i.request;yield n((()=>null==u?void 0:u({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,c.zb)(a)}})),{onUserConfirm(){null==r||r()}}),M.ee.emit("REFETCH_ORDER_LIST",void 0)}catch(e){}i(!1)}))))),[t,n,u,i])},x=()=>(0,s.useMemo)((()=>({updateTpAndSl:({hash:e,takeProfit:i,stopLoss:t,closeModalCallBack:n})=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){_.emit("UPDATE_ORDER_TP_SL",{hash:e,takeProfit:i,stopLoss:t,closeModalCallBack:n})})),updateTp:({hash:e,takeProfit:i,closeModalCallBack:t})=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){_.emit("UPDATE_ORDER_TP",{hash:e,takeProfit:i,closeModalCallBack:t})})),updateSl:({hash:e,stopLoss:i,closeModalCallBack:t})=>(0,E.__awaiter)(void 0,void 0,void 0,(function*(){_.emit("UPDATE_ORDER_SL",{hash:e,stopLoss:i,closeModalCallBack:t})}))})),[]);var D=t(87354);const k=e=>e.map((e=>{const i={orderHash:e.orderHash,broker:e.broker,pair:e.pair.replace("/",""),pairBase:e.pairBase,isLong:e.isLong,tokenIn:e.tokenIn,amountIn:e.amountIn.toString(),qty:(0,S.mb)(e.qty.toString(),L.cB.qty),limitPrice:(0,S.mb)(e.limitPrice.toString(),L.cB.price),stopLoss:(0,S.mb)(e.stopLoss.toString(),L.cB.price),takeProfit:(0,S.mb)(e.takeProfit.toString(),L.cB.price),timestamp:`${e.timestamp}000`,hash:e.orderHash,side:e.isLong?"LONG":"SHORT"};return Object.assign(Object.assign({},e),i)})).sort(((e,i)=>Number(i.timestamp)-Number(e.timestamp))),Z=()=>{const e=(0,o.E4)(),{address:i,isConnected:t}=(0,O.mA)(),n=(0,g.Lq)((e=>e.initialOrders)),r=(0,g.uY)(),{data:a=[],refetch:l,isSuccess:c,isFetching:d}=(0,O.do)(Object.assign(Object.assign({},e),{functionName:"getLimitOrders",args:[i,"0x0000000000000000000000000000000000000000"],enabled:t,cacheOnBlock:!0,cacheTime:D.g_}));(0,s.useEffect)((()=>{t||n([])}),[n,t]),(0,s.useEffect)((()=>{c&&!r&&n(k(a))}),[a,n,c,r]),(0,s.useEffect)((()=>{r&&!d&&n(k(a))}),[a,n,d,r]),(0,s.useEffect)((()=>M.ee.on("REFETCH_ORDER_LIST",(()=>{l()}))),[l])},R=e=>{const{close:i}=(0,o.Le)(e);return(0,s.useMemo)((()=>i),[i])};var U=t(55372);const A=e=>{const i=(0,l.h)(),t=(0,g.UL)(e,"qty"),r=(0,g.UL)(e,"limitPrice"),a=(0,g.UL)(e,"side"),m=(0,g.UL)(e,"pair"),y=(0,g.UL)(e,"takeProfit"),f=(0,g.UL)(e,"stopLoss"),v=(0,o.fV)(m),h=(0,p.r)(e),{data:P}=(0,o.VT)(),{index:b}=(0,n.B)(e),{qtyPrecision:N,symbol:E}=(0,u.E)(e),F=(0,s.useMemo)((()=>"LONG"===a),[a]),O=(0,s.useMemo)((()=>N),[N]),B=(0,s.useMemo)((()=>2),[]),M=(0,s.useMemo)((()=>F?(null==P?void 0:P.maxTakeProfitP)?(0,S.mb)(P.maxTakeProfitP,L.cB.percent):"Infinity":(null==P?void 0:P.maxTakeProfitP)?d.Z.minimum(new d.Z(h),(0,S.mb)(P.maxTakeProfitP,L.cB.percent)).toString():"Infinity"),[F,h,null==P?void 0:P.maxTakeProfitP]),w=(e=>{const i=(0,g.UL)(e,"qty"),t=(0,g.UL)(e,"pairBase"),n=(0,g.UL)(e,"limitPrice"),r=(0,s.useMemo)((()=>new d.Z(i).multipliedBy(n)),[n,i]),a=(0,o.tz)(t,r);return(0,s.useMemo)((()=>(0,S.mb)(null==a?void 0:a.liqLostP,L.cB.percent)),[a])})(e),T=(0,U.D)((e=>F?new d.Z(e).multipliedBy(b).dividedBy(t).plus(r):new d.Z(r).minus(new d.Z(e).multipliedBy(b).dividedBy(t)))),_=(0,U.D)((e=>F?new d.Z(e).minus(r).multipliedBy(t).dividedBy(b):new d.Z(r).minus(e).multipliedBy(t).dividedBy(b))),I=(0,U.D)((e=>new d.Z(t).multipliedBy(r).multipliedBy(e).dividedBy(h).dividedBy(b))),C=(0,U.D)((e=>new d.Z(e).multipliedBy(b).multipliedBy(h).dividedBy(new d.Z(t).multipliedBy(r)))),D=(0,U.D)((e=>F?new d.Z(e).multipliedBy(b).dividedBy(t).plus(r):new d.Z(r).minus(new d.Z(e).multipliedBy(b).dividedBy(t)))),k=(0,U.D)((e=>F?new d.Z(e).minus(r).multipliedBy(t).dividedBy(b):new d.Z(r).minus(e).multipliedBy(t).dividedBy(b))),Z=(0,U.D)((e=>new d.Z(t).multipliedBy(r).multipliedBy(e).dividedBy(h).dividedBy(b))),R=(0,U.D)((e=>new d.Z(e).multipliedBy(b).multipliedBy(h).dividedBy(new d.Z(t).multipliedBy(r)))),A=(0,U.D)((e=>`${(0,c.uf)(e,O)} ${i[E]||E}`)),H=(0,U.D)((e=>(0,c.uf)(e,B))),$=(0,U.D)((e=>(0,c.uf)(e,v)));return(0,s.useMemo)((()=>({getTakeProfitPrice:T,getTakeProfitPNL:_,getTakeProfitPNLByROI:I,getTakeProfitROI:C,getStopLossPrice:D,getStopLossPNL:k,getStopLossPNLByROI:Z,getStopLossROI:R,pair:m,takeProfit:y,stopLoss:f,pricePrecision:v,PNLPrecision:O,ROIPrecision:B,side:a,maxTakeProfitROI:M,minStopLossROI:(-w).toString(),entryPrice:r,formatPNL:A,formatROI:H,formatPrice:$,useContractUpdateTPSL:x})),[T,_,I,C,D,k,Z,R,m,y,f,v,O,B,a,M,w,r,A,H,$])}},86767:(e,i,t)=>{"use strict";t.d(i,{B:()=>r});var n=t(52983),s=t(85292),o=t(48977);const r=e=>{const{symbol:i}=(0,o.E)(e),t=(0,s.Ms)(i);return(0,n.useMemo)((()=>t),[t])}},41325:(e,i,t)=>{"use strict";t.d(i,{r:()=>m});var n=t(95386),s=t(49229),o=t(17921),r=t(52983),a=t(85292),l=t(86767),c=t(73091),d=t(47987),u=t(48977);const m=e=>{const i=(0,d.UL)(e,"qty"),t=(0,d.UL)(e,"limitPrice"),{initialed:m,amountIn:p}=(0,u.E)(e),y=(0,c.C)(e),{data:g}=(0,a.VT)(),{symbol:f,index:v}=(0,l.B)(e),h=f&&m;return(0,r.useMemo)((()=>h?new o.Z(i).multipliedBy(t).dividedBy(new o.Z(p).multipliedBy(v).minus(y).minus((0,s.mb)(null==g?void 0:g.executionFeeUsd.toString(),n.cB.usd))):new o.Z(1/0)),[h,i,t,p,v,y,null==g?void 0:g.executionFeeUsd])}},73091:(e,i,t)=>{"use strict";t.d(i,{C:()=>c});var n=t(95386),s=t(49229),o=t(17921),r=t(52983),a=t(85292),l=t(47987);const c=e=>{const i=(0,l.UL)(e,"qty"),t=(0,l.UL)(e,"pairBase"),c=(0,l.UL)(e,"limitPrice"),{data:d}=(0,a.Bu)(t,{watch:!0});return(0,r.useMemo)((()=>d&&d.feeConfig&&d.feeConfig.openFeeP?new o.Z(i).multipliedBy(c).multipliedBy((0,s.mb)(d.feeConfig.openFeeP,n.cB.percent)):"-"),[d,c,i])}},47987:(e,i,t)=>{"use strict";t.d(i,{Lq:()=>s,UL:()=>a,uY:()=>r,yi:()=>o});var n=t(25048);const s=(0,t(76748).Ue)((e=>({initialed:!1,orders:[],orderMap:{},initialOrders(i){e((0,n.ZP)((e=>{e.initialed=!0,e.orders=i.map((e=>e.hash)),e.orderMap=i.reduce(((e,i)=>Object.assign(Object.assign({},e),{[i.hash]:i})),{})})))},addAOrder(i){e((0,n.ZP)((e=>{e.orders.push(i.hash),e.orderMap[i.hash]=i})))},deleteAOrderByHash(i){e((0,n.ZP)((e=>{delete e.orderMap[i],e.orders=e.orders.filter((e=>e!==i))})))}}))),o=()=>s((e=>e.orders)),r=()=>s((e=>e.initialed)),a=(e,i)=>s((t=>{var n,s;return null===(s=null===(n=t.orderMap)||void 0===n?void 0:n[e])||void 0===s?void 0:s[i]}))},48977:(e,i,t)=>{"use strict";t.d(i,{E:()=>l});var n=t(49229),s=t(17921),o=t(52983),r=t(85292),a=t(47987);const l=e=>{const i=(0,a.UL)(e,"amountIn"),t=(0,a.UL)(e,"tokenIn"),l=(0,r.QG)(t),c=(0,r.At)(t),d=(0,r.RK)(c),u=c&&void 0!==l;return(0,o.useMemo)((()=>({initialed:u,symbol:c,decimals:l,address:t,tokenIn:t,amountIn:new s.Z((0,n.mb)(i,l)),qtyPrecision:d})),[u,c,l,t,i,d])}},53221:(e,i,t)=>{"use strict";t.d(i,{d0:()=>b,SD:()=>N,A4:()=>E,ch:()=>B,lW:()=>I,PH:()=>C,RM:()=>D,v_:()=>k,iA:()=>R,a1:()=>U,eO:()=>V,h2:()=>ie,Im:()=>ee,Jo:()=>ne,mM:()=>oe,D:()=>le,OB:()=>ue,yS:()=>ce,rf:()=>O,CE:()=>me,zS:()=>fe,KB:()=>Be,d:()=>d,mO:()=>we,$J:()=>u,Zm:()=>m,ZC:()=>g,kD:()=>f,Gn:()=>y,vH:()=>Ie});var n=t(52983),s=t(85292),o=t(87354),r=t(49229),a=t(17921),l=t(25048);const c=(0,t(76748).Ue)((e=>({initialed:!1,positions:[],positionMap:{},initialPositions(i){e((0,l.ZP)((e=>{e.initialed=!0,e.positions=i.map((e=>e.hash)),e.positionMap=i.reduce(((e,i)=>Object.assign(Object.assign({},e),{[i.hash]:i})),{})})))},addAPosition(i){e((0,l.ZP)((e=>{e.positions.push(i.hash),e.positionMap[i.hash]=i})))},deleteAPositionByHash(i){e((0,l.ZP)((e=>{delete e.positionMap[i],e.positions=e.positions.filter((e=>e!==i))})))},updateAPosition(i,t,n){e((0,l.ZP)((e=>{if(e.positionMap[i]){const s=e.positionMap[i];e.positionMap[i]=Object.assign(Object.assign({},s),{[t]:n})}})))},predictionInitialed:!1,predictions:[],predictionMap:{},initialPredictions(i){e((0,l.ZP)((e=>{e.predictionInitialed=!0,e.predictions=i.map((e=>e.positionHash)),e.predictionMap=i.reduce(((e,i)=>Object.assign(Object.assign({},e),{[i.positionHash]:i})),{})})))},addAPrediction(i){e((0,l.ZP)((e=>{e.predictions.push(i.positionHash),e.predictionMap[i.positionHash]=i})))},deleteAPredictionByHash(i){e((0,l.ZP)((e=>{delete e.predictionMap[i],e.predictions=e.predictions.filter((e=>e!==i))})))}}))),d=()=>{const e=c((e=>e.positions)),i=c((e=>e.predictions));return e.length+i.length},u=()=>c((e=>e.positions)),m=()=>c((e=>e.initialed)),p=(e,i)=>c((t=>{var n,s;return null===(s=null===(n=t.positionMap)||void 0===n?void 0:n[e])||void 0===s?void 0:s[i]})),y=()=>c((e=>e.predictions)),g=(e,i)=>c((t=>{var n,s;return null===(s=null===(n=t.predictionMap)||void 0===n?void 0:n[e])||void 0===s?void 0:s[i]})),f=()=>c((e=>e.predictionInitialed)),v=e=>{const i=p(e,"margin"),t=p(e,"marginToken"),o=(0,s.QG)(t),l=(0,s.At)(t),c=(0,s.RK)(l),d=l&&void 0!==i&&void 0!==o;return(0,n.useMemo)((()=>({initialed:d,symbol:l,decimals:o,margin:new a.Z((0,r.mb)(i,o)),address:t,marginToken:t,qtyPrecision:c})),[d,l,o,i,t,c])},h=e=>{const{symbol:i}=v(e),t=o.ey[i],r=(0,s.Ms)(t||i);return(0,n.useMemo)((()=>r),[r])};var P=t(86593);const b=()=>{const{symbol:e}=(0,P.Dp)(),i=(0,s.d0)();return(0,n.useCallback)((t=>{var n;t!==e&&(i({isBlank:!1,stateSymbol:t}),null===(n=document.querySelector("#orderForm"))||void 0===n||n.scrollIntoView({behavior:"smooth"}))}),[i,e])};var L=t(42249),S=t(72830);const N=e=>{const i=(0,L.h)(),{initialed:t,margin:s,symbol:o,qtyPrecision:r}=v(e);return(0,n.useMemo)((()=>t&&s.isFinite()?`${(0,S.uf)(s,r)} ${i[o]||o}`:"-"),[t,s,r,o,i])},E=e=>{const i=p(e,"pair"),t=p(e,"entryPrice"),o=(0,s.fV)(i);return(0,n.useMemo)((()=>new a.Z(t).isFinite()?(0,S.uf)(t,o):"-"),[t,o])},F=e=>{const{symbol:i,index:t}=h(e),s=v(e);return(0,n.useMemo)((()=>Object.assign(Object.assign({},s),{initialed:s.initialed&&void 0!==i,margin:new a.Z(s.margin).multipliedBy(t)})),[t,s,i])},O=e=>{const i=p(e,"qty"),t=p(e,"entryPrice"),{margin:s,initialed:o}=F(e);return(0,n.useMemo)((()=>o?new a.Z(i).multipliedBy(t).dividedBy(s):new a.Z(1/0)),[t,s,i,o])},B=e=>{const i=O(e);return(0,n.useMemo)((()=>i.isFinite()?`${i.toFixed(1)}x`:"-"),[i])},M=e=>{const i=p(e,"openFee"),t=p(e,"executionFee"),s=p(e,"fundingFee"),o=p(e,"holdingFee"),{decimals:a}=v(e);return(0,n.useMemo)((()=>({openFee:(0,r.mb)(i,a),fundingFee:(0,r.mb)(s,a),executionFee:(0,r.mb)(t,a),holdingFee:(0,r.mb)(o,a)})),[a,t,s,o,i])},w=e=>{const{openFee:i,executionFee:t,fundingFee:s,holdingFee:o}=M(e),{symbol:r,index:l}=h(e);return(0,n.useMemo)((()=>({initialed:void 0!==r,openFee:new a.Z(i).multipliedBy(l),fundingFee:new a.Z(s).multipliedBy(l),executionFee:new a.Z(t).multipliedBy(l),holdingFee:new a.Z(o).multipliedBy(l)})),[t,s,o,l,i,r])};var T=t(95386);const _=e=>{const i=p(e,"qty"),t=p(e,"pairBase"),o=p(e,"entryPrice"),l=(0,n.useMemo)((()=>new a.Z(i).multipliedBy(o)),[o,i]),c=(0,s.tz)(t,l);return(0,n.useMemo)((()=>(0,r.mb)(null==c?void 0:c.liqLostP,T.cB.percent)),[c])},I=e=>{const i=p(e,"entryPrice"),t=p(e,"side"),o=p(e,"pair"),r=p(e,"qty"),l=(0,s.fV)(o),{initialed:c,fundingFee:d,holdingFee:u}=w(e),{initialed:m,margin:y}=F(e),g=_(e),f=c&&m,v=(0,n.useMemo)((()=>"LONG"===t),[t]),h=(0,n.useMemo)((()=>new a.Z(y).multipliedBy(g).plus(new a.Z(d).minus(u)).dividedBy(r)),[d,u,g,y,r]);return(0,n.useMemo)((()=>{const e=v?new a.Z(i).minus(h):new a.Z(i).plus(h);return f&&e.isFinite()?e.isNegative()?"-":(0,S.uf)(e,l):"-"}),[i,f,v,h,l])},C=e=>{const i=p(e,"pair"),t=(0,s.fV)(i),{close:o}=(0,s.Le)(i);return(0,n.useMemo)((()=>new a.Z(o).isFinite()?(0,S.uf)(o,t):"-"),[o,t])},x=e=>{const i=p(e,"qty"),t=p(e,"pair"),o=p(e,"entryPrice"),r=p(e,"side"),{index:l}=h(e),{fundingFee:c,holdingFee:d}=M(e),{margin:u}=v(e),{close:m}=(0,s.Le)(t),y=(0,n.useMemo)((()=>"LONG"===r),[r]),g=(0,n.useMemo)((()=>y?new a.Z(m).minus(o).multipliedBy(i).dividedBy(l).plus(new a.Z(c).minus(d)):new a.Z(o).minus(m).multipliedBy(i).dividedBy(l).plus(new a.Z(c).minus(d))),[o,c,d,l,y,m,i]),f=(0,n.useMemo)((()=>new a.Z(g).dividedBy(u)),[g,u]);return(0,n.useMemo)((()=>({PNL:g,ROI:f})),[g,f])},D=e=>{const i=(0,L.h)(),{PNL:t,ROI:s}=x(e),{initialed:o,symbol:r,qtyPrecision:a}=v(e);return(0,n.useMemo)((()=>{const e=(0,S.uf)(t,a),n=`${(0,S.uf)(s.multipliedBy(100),2)}%`,l=s.multipliedBy(100),c=t.isFinite(),d=s.isFinite(),u=t.isNegative(),m=t.gt(0),p=s.lt(0),y=i[r]||r;return{PNL:o&&c?u?`${e} ${y}`:`+${e} ${y}`:"-",ROI:o&&d?p?n:`+${n}`:"-",PNLAbbr:o&&c?`${u?"-":"+"}${(0,S.pF)(Math.abs(t.toNumber()),a)}`:"-",isPNLNegative:u,isPNLPositive:m,isROINegative:p,marginSymbol:y,ROIInNumber:l.toNumber()}}),[t,a,s,o,r,i])},k=e=>{const i=p(e,"qty"),t=p(e,"pair"),{close:o}=(0,s.Le)(t);return(0,n.useMemo)((()=>{const e=new a.Z(i).multipliedBy(o);return e.isFinite()?(0,S.uf)(e.toFixed(1),1):"-"}),[o,i])};var Z=t(8429);const R=e=>{const i=p(e,"pair"),t=p(e,"isLong"),{products:s}=(0,P.GS)(),o=(0,n.useMemo)((()=>Object.fromEntries(s.filter((e=>(0,Z.L)(e.symbolType).isClassicMode||(0,Z.L)(e.symbolType).isDegenMode)).map((e=>[e.symbol,e])))),[s]);return(0,n.useMemo)((()=>{var e,n;return{symbol:i,isLong:t,symbolType:null===(e=o[i])||void 0===e?void 0:e.symbolType,symbolName:null===(n=o[i])||void 0===n?void 0:n.symbolName}}),[t,i,o])},U=e=>{const i=p(e,"takeProfit"),t=p(e,"stopLoss"),o=p(e,"pair"),r=(0,s.fV)(o);return(0,n.useMemo)((()=>{const e=new a.Z(i),n=new a.Z(t);return{takeProfit:e.isFinite()?(0,S.uf)(e,r):"-",stopLoss:n.isFinite()&&!n.isEqualTo(0)?(0,S.uf)(n,r):"-"}}),[r,t,i])};var A=t(76398),H=t(60103),$=t(28006),q=t(13004),j=t(96988),X=t(17845);const z=new(t(58407).v);var G=t(59712);const V=()=>{const{track:e}=(0,s.B1)(),{getI18n:i}=(0,j.V6)(),{setDisabled:t}=(0,P.a9)(),{submit:o}=(0,H.t)({getI18n:i}),r=(0,s.E4)();(0,n.useEffect)((()=>z.on("ADD_MARGIN",(i=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:n,amount:s,closeModalCallBack:a,marginToken:l}=i;t(!0),G.debug("ADD_MARGIN",n,s),e("click_add_margin_classic_popup_button");try{const i=yield(0,$.$q)(Object.assign(Object.assign({},r),{functionName:"addMargin",args:[n,s],overrides:l?void 0:{value:q.O$.from(s)}}));yield o((()=>(0,$.n9)(Object.assign(Object.assign({},i),{request:Object.assign(Object.assign({},i.request),{gasLimit:(0,S.zb)(i.request.gasLimit)})}))),{onUserConfirm(){null==a||a()}}),e("add_margin_classic_success"),X.ee.emit("REFETCH_POSITION_LIST",void 0)}catch(i){e("add_margin_classic_error")}t(!1)}))))),[r,t,o,e])};var Q=t(85197),Y=t(84090),K=t(59712);const J=()=>{const e=c((e=>e.positionMap)),{productMap:i}=(0,P.GS)();return function(e){const i=(0,n.useRef)(e);i.current=e;return(0,n.useCallback)(((...e)=>("function"==typeof i.current?i.current:()=>{})(...e)),[])}((t=>{const{pair:n}=e[t]||{};return n?i[n]?(0,Z.L)(i[n].symbolType).isDegenMode:(K.error(`useIsDegenMode productMap can not found the pair by hash ${t} and pair ${n}`),!1):(K.error(`useIsDegenMode positionMap can not found the pair by hash ${t}`),!1)}))};var W=t(59712);const ee=()=>{const{track:e}=(0,s.B1)(),{getI18n:i}=(0,j.V6)(),{setDisabled:t}=(0,P.a9)(),o=J(),{submit:r}=(0,H.t)({getI18n:i}),a=(0,s.E4)(),l="closeTrade",{writeAsync:c}=(0,Y.GG)(Object.assign(Object.assign({},a),{mode:"recklesslyUnprepared",functionName:l}));return(0,n.useCallback)((i=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){t(!0);const n=o(i);e(n?"click_close_degen_position_button":"click_close_classic_position_button");try{const t=[i],s=yield(0,$.$q)(Object.assign(Object.assign({},a),{functionName:l,args:t})),{gasLimit:o}=s.request;yield r((()=>null==c?void 0:c({recklesslySetUnpreparedArgs:t,recklesslySetUnpreparedOverrides:{gasLimit:(0,S.zb)(o)}})),{otherParams:{orderHash:i},secondConfirm:Q.Xp,secondConfirmAddress:a.address}),e(n?"close_degen_position_success":"close_classic_position_success")}catch(i){e(n?"close_degen_position_error":"close_classic_position_error")}return X.ee.emit("REFETCH_POSITION_LIST",void 0),t(!1),!0}))),[t,o,e,a,r,c])},ie=()=>{const e=u(),{getI18n:i}=(0,j.V6)(),{setDisabled:t}=(0,P.a9)(),{submit:o}=(0,H.t)({getI18n:i}),r=(0,s.E4)(),a="batchCloseTrade",{writeAsync:l}=(0,Y.GG)(Object.assign(Object.assign({},r),{mode:"recklesslyUnprepared",functionName:a}));return(0,n.useCallback)((()=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){t(!0);try{const i=[[...e]],t=yield(0,$.$q)(Object.assign(Object.assign({},r),{functionName:a,args:i})),{gasLimit:n}=t.request;yield o((()=>null==l?void 0:l({recklesslySetUnpreparedArgs:i,recklesslySetUnpreparedOverrides:{gasLimit:(0,S.zb)(n)}})),{otherParams:{orderHash:e.join(",")},secondConfirm:Q.od,secondConfirmAddress:r.address})}catch(e){W.error(e)}return X.ee.emit("REFETCH_POSITION_LIST",void 0),t(!1),!0}))),[t,e,r,o,l])};var te=t(59712);const ne=()=>{const{getI18n:e}=(0,j.V6)(),{setDisabled:i}=(0,P.a9)(),{track:t}=(0,s.B1)(),o=(0,s.E4)(),{submit:l}=(0,H.t)({getI18n:e}),{writeAsync:c}=(0,Y.GG)(Object.assign(Object.assign({},o),{mode:"recklesslyUnprepared",functionName:"updateTradeTpAndSl"})),{writeAsync:d}=(0,Y.GG)(Object.assign(Object.assign({},o),{mode:"recklesslyUnprepared",functionName:"updateTradeTp"})),{writeAsync:u}=(0,Y.GG)(Object.assign(Object.assign({},o),{mode:"recklesslyUnprepared",functionName:"updateTradeSl"}));(0,n.useEffect)((()=>z.on("UPDATE_TRADE_TP_SL",(e=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:n,takeProfit:s,stopLoss:d,closeModalCallBack:u}=e,m=new a.Z(d);i(!0),te.debug("updateTradeTpAndSl",n,s,d),t("class_position_edit_tpsl");try{const e=[n,(0,r.r0)(s,T.cB.price),m.isEqualTo(0)||!m.isFinite()?0:(0,r.r0)(d,T.cB.price)],i=yield(0,$.$q)(Object.assign(Object.assign({},o),{functionName:"updateTradeTpAndSl",args:e})),{gasLimit:a}=i.request;yield l((()=>null==c?void 0:c({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,S.zb)(a)}})),{onUserConfirm(){null==u||u()}}),t("class_position_edit_tpsl_success"),X.ee.emit("REFETCH_POSITION_LIST",void 0)}catch(e){t("class_position_edit_tpsl_error")}i(!1)}))))),[o,l,c,i,t]),(0,n.useEffect)((()=>z.on("UPDATE_TRADE_TP",(e=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:n,takeProfit:s,closeModalCallBack:a}=e;i(!0),te.debug("updateTradeTp",n,s),t("class_position_edit_tpsl");try{const e=[n,(0,r.r0)(s,T.cB.price)],i=yield(0,$.$q)(Object.assign(Object.assign({},o),{functionName:"updateTradeTp",args:e})),{gasLimit:c}=i.request;yield l((()=>null==d?void 0:d({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,S.zb)(c)}})),{onUserConfirm(){null==a||a()}}),t("class_position_edit_tpsl_success"),X.ee.emit("REFETCH_POSITION_LIST",void 0)}catch(e){t("class_position_edit_tpsl_error")}i(!1)}))))),[o,l,d,i,t]),(0,n.useEffect)((()=>z.on("UPDATE_TRADE_SL",(e=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){const{hash:n,stopLoss:s,closeModalCallBack:c}=e,d=new a.Z(s);i(!0),te.debug("updateTradeSl",n,s),t("class_position_edit_tpsl");try{const e=[n,d.isEqualTo(0)||!d.isFinite()?0:(0,r.r0)(s,T.cB.price)],i=yield(0,$.$q)(Object.assign(Object.assign({},o),{functionName:"updateTradeSl",args:e})),{gasLimit:a}=i.request;yield l((()=>null==u?void 0:u({recklesslySetUnpreparedArgs:e,recklesslySetUnpreparedOverrides:{gasLimit:(0,S.zb)(a)}})),{onUserConfirm(){null==c||c()}}),t("class_position_edit_tpsl_success"),X.ee.emit("REFETCH_POSITION_LIST",void 0)}catch(e){t("class_position_edit_tpsl_error")}i(!1)}))))),[o,l,u,i,t])},se=()=>(0,n.useMemo)((()=>({updateTpAndSl:({hash:e,takeProfit:i,stopLoss:t,closeModalCallBack:n})=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){z.emit("UPDATE_TRADE_TP_SL",{hash:e,takeProfit:i,stopLoss:t,closeModalCallBack:n})})),updateTp:({hash:e,takeProfit:i,closeModalCallBack:t})=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){z.emit("UPDATE_TRADE_TP",{hash:e,takeProfit:i,closeModalCallBack:t})})),updateSl:({hash:e,stopLoss:i,closeModalCallBack:t})=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){z.emit("UPDATE_TRADE_SL",{hash:e,stopLoss:i,closeModalCallBack:t})}))})),[]),oe=e=>{const i=g(e,"symbol"),t=(0,s.fV)(i),{close:o}=(0,s.Le)(i);return(0,n.useMemo)((()=>new a.Z(o).isFinite()?(0,S.uf)(o,t):"-"),[o,t])};var re=t(14369),ae=t(56520);const le=()=>{const{data:e}=(0,re.R)(),i=(0,Y.NL)(),t=(0,n.useCallback)((()=>{i.invalidateQueries([o.ac.DumbPositionList])}),[i]);return{useHistoryTab:ae.g8,refetchPredictions:t,usePredictionDataByFiled:g,usePredictionInitialed:f,usePredictions:y,usePricePrecision:s.fV,useAssetPrecision:s.RK,useCurrentPrice:oe,predictionPairs:e}},ce=()=>{const{data:e}=(0,s.XB)({}),i=c((e=>e.initialPredictions)),{isConnected:t}=(0,Y.mA)();(0,n.useEffect)((()=>{t||i([])}),[i,t]),(0,n.useEffect)((()=>{e&&e.success&&i(e.data)}),[i,e])},de=e=>e.map((e=>{const i={positionHash:e.positionHash,pair:e.pair.replace("/",""),pairBase:e.pairBase,marginToken:e.marginToken,isLong:e.isLong,hash:e.positionHash,entryPrice:(0,r.mb)(e.entryPrice.toString(),T.cB.price),qty:(0,r.mb)(e.qty.toString(),T.cB.qty),stopLoss:(0,r.mb)(e.stopLoss.toString(),T.cB.price),takeProfit:(0,r.mb)(e.takeProfit.toString(),T.cB.price),timestamp:`${e.timestamp}000`,side:e.isLong?"LONG":"SHORT",margin:e.margin.toString(),executionFee:e.executionFee.toString(),fundingFee:e.fundingFee.toString(),openFee:e.openFee.toString(),holdingFee:e.holdingFee.toString(),tokenIn:e.tokenIn};return Object.assign(Object.assign({},e),i)})).sort(((e,i)=>Number(i.timestamp)-Number(e.timestamp))),ue=()=>{const e=(0,s.E4)(),{address:i,isConnected:t}=(0,Y.mA)(),r=m(),a=c((e=>e.initialPositions)),{data:l=[],refetch:d,isSuccess:u,isFetching:p}=(0,Y.do)(Object.assign(Object.assign({},e),{functionName:"getPositionsV2",args:[i,"0x0000000000000000000000000000000000000000"],enabled:t,cacheOnBlock:!0,cacheTime:o.g_}));(0,n.useEffect)((()=>{t||a([])}),[a,t]),(0,n.useEffect)((()=>{u&&!r&&a(de(l))}),[l,a,u,r]),(0,n.useEffect)((()=>{r&&!p&&a(de(l))}),[l,a,p,r]),(0,n.useEffect)((()=>(X.ee.on("REFETCH_POSITION_LIST",d),()=>{X.ee.off("REFETCH_POSITION_LIST",d)})),[d])},me=e=>{const{close:i}=(0,s.Le)(e);return(0,n.useMemo)((()=>i),[i])};var pe=t(54872);const ye=()=>(0,n.useMemo)((()=>({addMargin:({hash:e,amount:i,closeModalCallBack:t,marginToken:n})=>(0,A.__awaiter)(void 0,void 0,void 0,(function*(){z.emit("ADD_MARGIN",{hash:e,amount:i,closeModalCallBack:t,marginToken:n})}))})),[]),ge=e=>{const i=(0,L.h)(),{symbol:t,qtyPrecision:s}=v(e),{index:o}=h(e),{PNL:r,ROI:a}=x(e);return(0,n.useMemo)((()=>{const e=(0,S.FL)(r,s),n=`${(0,S.uf)(a.multipliedBy(100),2)}%`,l=r.isFinite(),c=a.isFinite(),d=r.isNegative(),u=r.gt(0),m=a.isNegative(),p=i[t]||t;return{PNL:l?`${d?"":"+"}${e} ${p} ( ≈ ${(0,S.uf)(r.multipliedBy(o),1)} USD\n      )`:"-",PNLOrigin:r,PNLFormatted:e,ROI:c?m?n:`+${n}`:"-",isPNLNegative:d,isPNLPositive:u,isROINegative:m,marginSymbol:p}}),[r,a,s,o,t,i])},fe=e=>{const{getI18n:i}=(0,j.V6)(),t=p(e,"qty"),o=p(e,"isLong"),r=p(e,"entryPrice"),l=p(e,"pair"),{index:c}=h(e),d=me(l),u=_(e),{fundingFee:m}=w(e),{PNLOrigin:y}=ge(e),{fundingFee:g,holdingFee:f}=M(e),P=(0,s.fV)(l),[b=0]=(0,s.zC)(),{marginToken:L,margin:N,qtyPrecision:E}=v(e),F=(0,n.useMemo)((()=>new a.Z(t).multipliedBy(d)),[d,t]),O=(0,n.useCallback)((e=>new a.Z(N).plus(e)),[N]),B=(0,n.useCallback)((e=>new a.Z(N).plus(e).plus(y).plus(g).minus(f)),[N,y,g,f]),T=(0,n.useCallback)((e=>new a.Z(t).multipliedBy(r).dividedBy(new a.Z(e).multipliedBy(c)).multipliedBy(.995)),[r,c,t]),I=(0,n.useCallback)((e=>B(e).div(new a.Z(t).multipliedBy(d))),[t,d,B]),C=(0,n.useCallback)((()=>new a.Z(1).div(b)),[b]),x=(0,n.useCallback)((()=>F.div(b).multipliedBy(new a.Z(1).div(c)).minus(new a.Z(N).plus(y).plus(g).minus(f)).multipliedBy(.995)),[F,b,c,N,y,f,g]),D=(0,n.useCallback)((e=>{const i=new a.Z(e).multipliedBy(u).multipliedBy(c).plus(m).dividedBy(t);return o?new a.Z(r).minus(i):new a.Z(r).plus(i)}),[r,m,c,o,u,t]);return(0,n.useMemo)((()=>({symbol:l,side:o?i("userinfo-positions-side-LONG","Long"):i("userinfo-positions-side-SHORT","Short"),isLong:o,marginToken:L,marginQtyPrecision:E,pricePrecision:P,formatNumber:S.uf,calcMargin:B,calcInitialMargin:O,calcLeverage:T,calcMarginRatio:I,calcMaxMargin:x,calcLiqPrice:D,useTokenApprove:pe.Z,useContractAddMargin:ye,calcMaxMarginRatio:C})),[l,o,i,L,E,P,B,I,O,T,x,D,C])};var ve=t(34338);const he=e=>{const i=p(e,"timestamp"),{getI18n:t}=(0,j.V6)();return(0,n.useMemo)((()=>(0,S.jE)(Number(i),t)),[i,t])},Pe=e=>{const{executionFee:i}=M(e),{executionFee:t}=w(e),{symbol:s,qtyPrecision:o}=v(e);return(0,n.useMemo)((()=>`${(0,S.FL)(new a.Z(i),o)} ${s} ( ≈ ${(0,S.uf)(t,2)} USD )`),[i,o,s,t])},be=e=>{const i=(0,L.h)(),{fundingFee:t,holdingFee:s}=M(e),{fundingFee:o,holdingFee:r}=w(e),{symbol:l,qtyPrecision:c}=v(e);return(0,n.useMemo)((()=>{const e=new a.Z(t).minus(s);return{fundingFee:`${e.isNegative()?"":"+"}${(0,S.FL)(e,c)} ${i[l]||l} ( ≈ ${(0,S.uf)(new a.Z(o).minus(r),2)} USD )`,isFundingFeeNegative:e.isNegative()}}),[t,s,c,l,o,r,i])},Le=e=>{const i=(0,L.h)(),{symbol:t,qtyPrecision:s}=v(e),o=(e=>{const{margin:i}=v(e);return(0,n.useMemo)((()=>i),[i])})(e),{margin:r}=F(e);return(0,n.useMemo)((()=>`${(0,S.FL)(o,s)} ${i[t]||t} ( ≈ ${(0,S.uf)(r,1)} USD )`),[o,s,t,r,i])},Se=e=>{const{PNL:i}=x(e),{openFee:t,executionFee:n}=M(e);return i.minus(t).minus(n)},Ne=e=>{const i=(0,L.h)(),{symbol:t,qtyPrecision:s}=v(e),o=Se(e),r=(e=>{const i=Se(e),{index:t}=h(e);return i.multipliedBy(t)})(e);return(0,n.useMemo)((()=>({netProfit:o.isNaN()?"-":`${o.isNegative()?"":"+"}${(0,S.FL)(o,s)} ${i[t]||t} ( ≈ ${(0,S.uf)(r,1)} USD )`,isNetProfitNegative:o.isNegative()})),[o,s,t,r,i])},Ee=e=>{const i=(0,L.h)(),{openFee:t}=M(e),{openFee:s}=w(e),{symbol:o,qtyPrecision:r}=v(e);return(0,n.useMemo)((()=>`${(0,S.FL)(new a.Z(t),r)} ${i[o]||o} ( ≈ ${(0,S.uf)(s,2)} USD )`),[t,r,o,s,i])},Fe=e=>{const i=p(e,"pair"),t=(0,P.Lh)(i,"baseAsset");return(0,n.useMemo)((()=>({pair:i,baseAsset:t})),[i,t])},Oe=e=>{const i=k(e),t=p(e,"qty"),s=p(e,"pair"),o=(0,P.Lh)(s,"quantityPrecision");return(0,n.useMemo)((()=>({size:i,qty:(0,S.uf)(t,o)})),[t,o,i])},Be=()=>{const{track:e}=(0,ve.B)(),i=(0,n.useCallback)((i=>{e(i?"pv_degen_position_detail_popup":"pv_classic_position_detail_popup")}),[e]);return(0,n.useMemo)((()=>({usePositionDetailPair:Fe,usePositionDetailLeverage:B,usePositionDetailInitialMargin:Le,usePositionDetailSymbol:R,usePositionDetailQtyAndSize:Oe,usePositionDetailFundingFee:be,usePositionDetailOpenFee:Ee,usePositionDetailExecutionFee:Pe,usePositionDetailEntryPrice:E,usePositionDetailLiquidPrice:I,usePositionDetailLiqLostRate:_,usePositionDetailPNLROI:ge,usePositionDetailNetProfit:Ne,usePositionDetailDuration:he,usePositionDetailPricePrecision:s.fV,onPositionDetailOpen:i,useIsDegenMode:J})),[i])};var Me=t(55372);const we=e=>{const i=(0,L.h)(),t=p(e,"qty"),o=p(e,"entryPrice"),l=p(e,"side"),c=p(e,"pair"),d=p(e,"takeProfit"),u=p(e,"stopLoss"),m=(0,s.fV)(c),y=O(e),{fundingFee:g}=w(e),{data:f}=(0,s.VT)(),P=_(e),{index:b}=h(e),{qtyPrecision:N,symbol:E}=v(e),F=(0,n.useMemo)((()=>"LONG"===l),[l]),B=(0,n.useMemo)((()=>N),[N]),M=(0,n.useMemo)((()=>2),[]),I=(0,n.useMemo)((()=>F?(null==f?void 0:f.maxTakeProfitP)?(0,r.mb)(f.maxTakeProfitP,T.cB.percent):"Infinity":(null==f?void 0:f.maxTakeProfitP)?a.Z.minimum(new a.Z(y),(0,r.mb)(f.maxTakeProfitP,T.cB.percent)).toString():"Infinity"),[F,y,null==f?void 0:f.maxTakeProfitP]),C=(0,Me.D)((e=>F?new a.Z(e).multipliedBy(b).minus(g).dividedBy(t).plus(o):new a.Z(o).minus(new a.Z(e).multipliedBy(b).minus(g).dividedBy(t)))),x=(0,Me.D)((e=>F?new a.Z(e).minus(o).multipliedBy(t).plus(g).dividedBy(b):new a.Z(o).minus(e).multipliedBy(t).plus(g).dividedBy(b))),D=(0,Me.D)((e=>new a.Z(t).multipliedBy(o).multipliedBy(e).dividedBy(y).dividedBy(b))),k=(0,Me.D)((e=>new a.Z(e).multipliedBy(b).multipliedBy(y).dividedBy(new a.Z(t).multipliedBy(o)))),Z=(0,Me.D)((e=>F?new a.Z(e).multipliedBy(b).minus(g).dividedBy(t).plus(o):new a.Z(o).minus(new a.Z(e).multipliedBy(b).minus(g).dividedBy(t)))),R=(0,Me.D)((e=>F?new a.Z(e).minus(o).multipliedBy(t).plus(g).dividedBy(b):new a.Z(o).minus(e).multipliedBy(t).plus(g).dividedBy(b))),U=(0,Me.D)((e=>new a.Z(t).multipliedBy(o).multipliedBy(e).dividedBy(y).dividedBy(b))),A=(0,Me.D)((e=>new a.Z(e).multipliedBy(b).multipliedBy(y).dividedBy(new a.Z(t).multipliedBy(o)))),H=(0,Me.D)((e=>`${(0,S.uf)(e,B)} ${i[E]||E}`)),$=(0,Me.D)((e=>(0,S.uf)(e,M))),q=(0,Me.D)((e=>(0,S.uf)(e,m)));return(0,n.useMemo)((()=>({getTakeProfitPrice:C,getTakeProfitPNL:x,getTakeProfitPNLByROI:D,getTakeProfitROI:k,getStopLossPrice:Z,getStopLossPNL:R,getStopLossPNLByROI:U,getStopLossROI:A,pair:c,takeProfit:d,stopLoss:u,pricePrecision:m,PNLPrecision:B,ROIPrecision:M,maxTakeProfitROI:I,minStopLossROI:(-P).toString(),side:l,entryPrice:o,formatPNL:H,formatROI:$,formatPrice:q,useContractUpdateTPSL:se})),[B,M,o,H,q,$,R,U,Z,A,x,D,C,k,I,P,c,m,l,u,d])};var Te=t(12559);const _e=e=>Te.parseEther(null!=e?e:"0").div(q.O$.from(10).pow(18)),Ie=e=>{const i=p(e,"qty"),t=p(e,"pair"),o=p(e,"pairBase"),r=p(e,"entryPrice"),a=p(e,"fundingFee"),l=p(e,"holdingFee"),{data:c}=(0,s.Bu)(o),{data:d}=(0,s.Jg)(o),{longQty:u,shortQty:m}=d,{close:y,symbol:g}=(0,s.Le)(t),f=p(e,"margin"),v=p(e,"marginToken"),h=(0,s.QG)(v)||T.cB.marginToken;return(0,n.useMemo)((()=>({entryPrice:Te.parseEther(null!=r?r:"0"),marketPrice:g===t?Te.parseEther(null!=y?y:"0"):q.O$.from(0),qty:Te.parseUnits(null!=i?i:"0",T.cB.qty),margin:_e(f).div(q.O$.from(10).pow(h)),fundingFee:_e(a),holdingFee:_e(l),longQty:u,shortQty:m,slippageConfig:c.slippageConfig})),[r,g,t,y,i,f,h,a,l,u,m,c.slippageConfig])}},50291:(e,i,t)=>{"use strict";t.d(i,{T:()=>n});const n={positions:"positions",orders:"orders",history:"history"}},68692:(e,i,t)=>{"use strict";t.d(i,{h:()=>m});var n=t(59684),s=t(20875),o=t(19482),r=t(74872),a=t(32760),l=t(52341),c=t(33075),d=t(84090);const u=new Map([[n.eG.id,!0],[n.d2.id,!0],[n.yX.id,!0],[s.Z.id,!0],[o.V.id,!1],[r.a.id,!1],[a.u.id,!0],[l.Q.id,!0]]),m=()=>{const{selectedNetworkId:e}=(0,c.o6)(),i=(0,d.xx)({chainId:e});return u.get(i)}}}]);